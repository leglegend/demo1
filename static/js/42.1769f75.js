(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[42],{"./src/components/recommended_strategy_layer/index.vue":function(t,e,n){"use strict";var o=n("./node_modules/vue-property-decorator/lib/vue-property-decorator.js");function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(t)}var a=function(){var t=function e(n,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(n,o)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=function(t,e,n,o){var a,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":r(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(a=t[l])&&(s=(i<3?a(s):i>3?a(e,n,s):a(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.addCustomizeStrategy=function(t){this.$emit("add-strategy",t)},i([Object(o["c"])({type:Array,default:function t(){return[]}})],e.prototype,"recommendedStrategy",void 0),e=i([Object(o["a"])({})],e)}(o["e"]),l=s,c=n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),u=Object(c["a"])(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"recommended-strategy"},[n("div",{ref:"recommendedTemplate",staticClass:"recommended-strategy__title--right common-link__text"},[n("lang",[t._v("推荐配置{#btn#}")]),t._v(" "),n("i",{staticClass:"iconfont icon-xinxi12beifen common-form-tips-icon recommended-strategy__icon"})],1),t._v(" "),n("sf-layer",{attrs:{"default-target":"recommendedTemplate",trigger:"hover","arrow-hide":!1,anchor:"top-end",offset:4,cls:"recommended-strategy__option-layer"}},[n("ul",{staticClass:"recommended-strategy__select"},t._l(t.recommendedStrategy,(function(e,o){return n("li",{key:o,staticClass:"sfv-option sfv-option-text recommended-strategy__option",on:{click:function(n){return t.addCustomizeStrategy(e.data)}}},[t._v("\n                "+t._s(e.name)+"\n            ")])})),0)])],1)}),[],!1,null,"cc2548ca",null);e["a"]=u.exports},"./src/home/mod_strategy/online_strategy/control_strategy/app_control/detail/index.vue":function(t,e,n){"use strict";var o=n("./node_modules/vue-property-decorator/lib/vue-property-decorator.js"),r=n("./src/components/application_scope/index.vue"),a=n("./src/api/swagger/mods/strategyAppControl.mod.ts"),i=n("./src/home/mod_strategy/common/detail_mixin.ts"),s=n("./src/components/audit_settings/index.vue"),l=n("./src/const/common.ts");function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(t)}var u=function(){var t=function e(n,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(n,o)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),p=function(t,e,n,o){var r,a=arguments.length,i=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,n,i):r(e,n))||i);return a>3&&i&&Object.defineProperty(e,n,i),i},d=function(t,e,n,o){return new(n||(n=Promise))((function(r,a){function i(t){try{l(o.next(t))}catch(t){a(t)}}function s(t){try{l(o["throw"](t))}catch(t){a(t)}}function l(t){t.done?r(t.value):function e(t){return t instanceof n?t:new n((function(e){e(t)}))}(t.value).then(i,s)}l((o=o.apply(t,e||[])).next())}))},f=function(t,e){var n,o,r,a,i={label:0,sent:function t(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function l(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&a[0]?o["return"]:a[0]?o["throw"]||((r=o["return"])&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(r=i.trys,(r=r.length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.detail={name:"",description:"",status:"",priority:"",creator:"",control_content:{content:[],app:{list:[],action:"",time_id:"",time_name:""},web_file:{http:{status:l["n"].value.enable,excluded_url:[]},ftp:"",file_type:[],method:[],action:"",time_id:"",time_name:""},email:{source_addr:{status:"",action:"",list:[]},destination_addr:{status:"",action:"",list:[]},keyword:{status:"",list:[]},attachment:{status:"",list:[]},limit:{status:"",type:[],size:"",attachments:""}}},application_scope:{scope:[],users:[],terminal:[],source_ip:{type:"",list:[]},destination_ip:{type:"",list:[]}}},e.userTreeData=[],e.operationMap={load:a["a"].detail},e}return u(e,t),e.prototype.mounted=function(){this.loadUserTreeData()},e.prototype.loadUserTreeData=function(){return d(this,void 0,void 0,(function(){var t;return f(this,(function(e){switch(e.label){case 0:return[4,a["a"].userGroup({},{mask:this.$parent})];case 1:return t=e.sent(),this.userTreeData=t?[t]:[],[2]}}))}))},e=p([Object(o["a"])({components:{ApplicationScope:r["a"],ControlContent:s["a"]}})],e)}(Object(o["b"])(i["a"])),y=m,_=n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),b=Object(_["a"])(y,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"strategy-detail"},[n("lang",{staticClass:"common-form-title"},[t._v("基本信息{#title#}")]),t._v(" "),t._l(t.basicInfo,(function(e,o){return n("ss-text-render",t._b({key:o,staticClass:"detail-item"},"ss-text-render",e,!1))})),t._v(" "),n("lang",{staticClass:"common-form-title"},[t._v("管控设置{#title#}")]),t._v(" "),n("ss-text-render",t._b({staticClass:"detail-item",attrs:{"label-text":t._("管控内容{#label#}")}},"ss-text-render",t.textRenderOptions,!1),[n("control-content",{attrs:{"default-disabled":!0,"input-width":490},model:{value:t.detail.control_content,callback:function(e){t.$set(t.detail,"control_content",e)},expression:"detail.control_content"}})],1),t._v(" "),n("lang",{staticClass:"common-form-title"},[t._v("适用范围{#title#}")]),t._v(" "),n("ss-text-render",t._b({staticClass:"detail-item",attrs:{"label-text":t._("适用范围{#label#}")}},"ss-text-render",t.textRenderOptions,!1),[n("application-scope",{attrs:{"user-tree-data":t.userTreeData,"default-disabled":!0,"input-width":490},model:{value:t.detail.application_scope,callback:function(e){t.$set(t.detail,"application_scope",e)},expression:"detail.application_scope"}})],1)],2)}),[],!1,null,"f1a6fdda",null);e["a"]=b.exports},"./src/home/mod_strategy/online_strategy/control_strategy/app_control/index.vue":function(t,e,n){"use strict";n.r(e);var o=n("./node_modules/vue-property-decorator/lib/vue-property-decorator.js"),r=n("./src/home/mod_strategy/common/strategy_index_mixin.ts"),a=n("./src/home/mod_strategy/online_strategy/control_strategy/app_control/modal/add_strategy/index.vue"),i=n("./src/components/add_strategy_type_select/index.vue"),s=n("./src/components/recommended_strategy_layer/index.vue"),l=n("./src/home/mod_strategy/online_strategy/control_strategy/app_control/detail/index.vue"),c=n("./src/home/mod_strategy/common/tip_layer.vue"),u=n("./src/const/common.ts"),p=n("./src/api/swagger/mods/strategyAppControl.mod.ts"),d=n("./src/home/mod_common/util/tool.ts");function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(t)}var m=function(){var t=function e(n,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(n,o)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),y=function(t,e,n,o){var r,a=arguments.length,i=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":f(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,n,i):r(e,n))||i);return a>3&&i&&Object.defineProperty(e,n,i),i},b=function(t,e,n,o){return new(n||(n=Promise))((function(r,a){function i(t){try{l(o.next(t))}catch(t){a(t)}}function s(t){try{l(o["throw"](t))}catch(t){a(t)}}function l(t){t.done?r(t.value):function e(t){return t instanceof n?t:new n((function(e){e(t)}))}(t.value).then(i,s)}l((o=o.apply(t,e||[])).next())}))},h=function(t,e){var n,o,r,a,i={label:0,sent:function t(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function l(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&a[0]?o["return"]:a[0]?o["throw"]||((r=o["return"])&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(r=i.trys,(r=r.length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.operationMap={deleteRecords:p["a"].remove,getStrategys:p["a"].list,changeStatus:p["a"].setStatus,draggableSort:p["a"].changePriority},e.formatApplicationScope=d["a"],e.recommendedStrategy=[],e.editBtnDisabled=!0,e}return m(e,t),e.prototype.onHandleKeyword=function(t){this.$_draggableMixin_filter(t)},e.prototype.mounted=function(){},e.prototype.openNewStrategyModal=function(t){this.$_strategyModalMixin_addStrategy(a["a"],{width:640,props:{templateData:t}})},e.prototype.selectAddStrategyType=function(){this.$_strategyModalMixin_selectAddStrategyType(i["a"],{width:400,props:{addCustomizeStrategy:this.openNewStrategyModal,recommendedStrategy:this.recommendedStrategy,displayType:"modal"}})},e.prototype.editStrategyModal=function(){var t=this,e=t.$refs.detail,n=null==e?void 0:e.$_detailMixin_getDetail();t.$_strategyModalMixin_editStrategyModal(a["a"],{width:640,props:{templateData:n,isEdit:!0},submit:t.filterRemind,submitCallback:function n(){var o;t.$_tableMixin_refresh(),null===(o=null==e?void 0:e.$_detailMixin_loadDetail)||void 0===o||o.call(e)}})},e.prototype.renderControlContent=function(t){return t.map((function(t){return u["f"].text[t]})).join(_("、"))||"-"},e.prototype.loadRecommendedStrategys=function(){return b(this,void 0,void 0,(function(){var t,e;return h(this,(function(n){switch(n.label){case 0:return[4,this.$http.get("template/app-control")];case 1:return t=n.sent().list,e=void 0===t?[]:t,this.recommendedStrategy=e,[2]}}))}))},e.prototype.updateDrawerStatus=function(t){this.strategyRecord.name=t.name||"-",this.setEditBtnDisabled(!1)},e.prototype.setEditBtnDisabled=function(t){this.editBtnDisabled=t},e=y([Object(o["a"])({components:{AddStrategyTypeSelect:i["a"],RecommendedStrategy:s["a"],AppControlDetail:l["a"],TipLayer:c["a"]}})],e)}(Object(o["b"])(r["a"])),g=v,w=n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),x=Object(w["a"])(g,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("sf-card",{directives:[{name:"set-min-height",rawName:"v-set-min-height"}],staticClass:"common-content--padding common-card--no-head-padding app-control"},[n("div",{attrs:{slot:"title"},slot:"title"},[n("lang",[t._v("Web与客户端管控策略{#title#}")]),t._v(" "),n("tip-layer",{ref:"tipLayer",attrs:{"tip-text":t._("配置应用访问权限、Web文件传输权限、邮件收发权限；未配置默认不进行管控。")}})],1),t._v(" "),n("sf-grid",{directives:[{name:"show",rawName:"v-show",value:t.strategysLength||t.isTableLoding,expression:"strategysLength || isTableLoding"}],key:t.mixinKey},[n("sf-toolbar",{ref:"toolbar"},[n("sf-button-blank",{staticClass:"btn-blank",attrs:{"default-disabled":t.isTableLoding,"icon-cls":"icon-gongjulan-xinzeng"},on:{click:function(e){return t.openNewStrategyModal()}}},[n("lang",[t._v("新增{#btn#}")])],1),t._v(" "),n("sf-button-blank",{staticClass:"btn-blank",attrs:{"action-name":"delete","icon-cls":"icon-gongjulan-shanchu"},on:{click:t.filterRemind}},[n("lang",[t._v("删除{#btn#}")])],1),t._v(" "),n("ss-vertical-sep",{attrs:{spacing:0}}),t._v(" "),n("sf-button-blank",{staticClass:"btn-blank",attrs:{"action-name":"enable","icon-cls":"icon-enable"},on:{click:t.filterRemind}},[n("lang",[t._v("启用{#btn#}")])],1),t._v(" "),n("sf-button-blank",{staticClass:"btn-blank",attrs:{"action-name":"disable","icon-cls":"icon-disable"},on:{click:t.filterRemind}},[n("lang",[t._v("禁用{#btn#}")])],1),t._v(" "),n("template",{slot:"right"},[n("sf-searchfield",{attrs:{"param-key":"keyword",placeholder:t._("请输入策略名称")},on:{trigger:t.filterRemind},model:{value:t.gridOption.loadParams.keyword,callback:function(e){t.$set(t.gridOption.loadParams,"keyword",e)},expression:"gridOption.loadParams.keyword"}})],1)],2),t._v(" "),n("sf-table",{directives:[{name:"set-min-height",rawName:"v-set-min-height"}],ref:"table",attrs:{options:t.gridOption,"default-height":300}},[n("sf-table-column",{attrs:{"data-index":"priority",title:t._("优先级{#header#}"),align:"center","default-width":60}}),t._v(" "),n("sf-table-column",{attrs:{"data-index":"name",title:t._("策略名称{#header#}"),"default-width":136},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.record;return[n("span",{staticClass:"common-ellipsis common-link__text",attrs:{title:o.name},on:{click:function(e){return e.stopPropagation(),t.$_strategyModalMixin_openDetailDrawer(o)}}},[t._v("\n                        "+t._s(t._f("empty")(o.name))+"\n                    ")])]}}])}),t._v(" "),n("sf-table-column",{attrs:{"data-index":"content",title:t._("管控内容{#header#}"),renderer:t.renderControlContent,"default-width":.4}}),t._v(" "),n("sf-table-column",{attrs:{"data-index":"application",title:t._("适用范围{#header#}"),"default-width":.6},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.record;return[t.$_strategyMixin_isScopeShow(o)?n("div",{staticClass:"app-control__scope"},t._l(o.application_scope.scope,(function(e,r){return n("p",{key:r,staticClass:"common-ellipsis app-control__scope-item",attrs:{title:t.formatApplicationScope(o.application_scope,e)}},[t._v("\n                            "+t._s(t.formatApplicationScope(o.application_scope,e))+"\n                        ")])})),0):n("span",[t._v("\n                        -\n                    ")])]}}])}),t._v(" "),n("sf-table-column",{attrs:{"data-index":"status",title:t._("策略状态{#header#}"),"default-width":80},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.record;return[o.status?n("i",{staticClass:"iconfont",class:[t.STATUS.icon[o.status],"common-status-icon--"+o.status],attrs:{title:o.status===t.STATUS.value.enable?t.STATUS.actionText.disable:t.STATUS.actionText.enable},on:{click:function(e){return e.stopPropagation(),t.filterRemind(e)}}}):n("span",[t._v("\n                        -\n                    ")])]}}])}),t._v(" "),n("sf-table-column",{attrs:{"data-index":"creator",title:t._("创建人{#header#}"),"default-width":80}}),t._v(" "),n("sf-table-column",{attrs:{title:t._("操作{#header#}"),"default-width":160},scopedSlots:t._u([{key:"default",fn:function(e){e.record;return n("div",{staticClass:"app-control__operation"},[n("span",{staticClass:"common-link__text-margin",on:{click:function(e){return e.stopPropagation(),t.filterRemind(e)}}},[t._v("\n                        "+t._s(t._("删除{#btn#}"))+"\n                    ")]),t._v(" "),t.gridOption.loadParams.keyword?t._e():n("draggable-handler")],1)}}])})],1)],1),t._v(" "),t.strategysLength||t.isTableLoding?t._e():n("add-strategy-type-select",{attrs:{"add-customize-strategy":t.openNewStrategyModal,"recommended-strategy":t.recommendedStrategy,"display-type":"table"}}),t._v(" "),n("sf-drawer",{attrs:{title:t.strategyRecord.name,visible:t.isDetailShow,size:"640px",direction:"rtl","destroy-on-close":!0},on:{"update:visible":function(e){t.isDetailShow=e}}},[n("app-control-detail",{ref:"detail",attrs:{record:t.strategyRecord},on:{"before-load":function(e){return t.setEditBtnDisabled(!0)},"after-load":t.updateDrawerStatus}}),t._v(" "),n("template",{slot:"footer"},[n("sf-button-primary",{attrs:{"default-disabled":t.editBtnDisabled},on:{click:t.editStrategyModal}},[n("lang",[t._v("编辑")])],1)],1)],2)],1)}),[],!1,null,"2e0ee295",null);e["default"]=x.exports},"./src/home/mod_strategy/online_strategy/control_strategy/app_control/modal/add_strategy/index.vue":function(t,e,n){"use strict";var o=n("./node_modules/vue-property-decorator/lib/vue-property-decorator.js"),r=n("./src/home/mod_common/mixin/form.ts"),a=n("./src/home/mod_common/mixin/modal.ts"),i=n("./src/api/swagger/mods/strategyAppControl.mod.ts"),s=n("./src/const/common.ts"),l=n("./src/const/mod_strategy.ts"),c=n("./src/components/form/form_base_info/index.vue"),u=n("./src/components/application_scope/index.vue"),p=n("./src/components/audit_settings/index.vue"),d=n("./src/util/tool.js");function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(t)}var m=function(){var t=function e(n,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(n,o)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),y=function(){return y=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},y.apply(this,arguments)},_=function(t,e,n,o){var r,a=arguments.length,i=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":f(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,n,i):r(e,n))||i);return a>3&&i&&Object.defineProperty(e,n,i),i},b=function(t,e,n,o){return new(n||(n=Promise))((function(r,a){function i(t){try{l(o.next(t))}catch(t){a(t)}}function s(t){try{l(o["throw"](t))}catch(t){a(t)}}function l(t){t.done?r(t.value):function e(t){return t instanceof n?t:new n((function(e){e(t)}))}(t.value).then(i,s)}l((o=o.apply(t,e||[])).next())}))},h=function(t,e){var n,o,r,a,i={label:0,sent:function t(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function l(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&a[0]?o["return"]:a[0]?o["throw"]||((r=o["return"])&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(r=i.trys,(r=r.length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.STATUS=s["n"],e.formData={name:"",description:"",status:s["n"].value.enable,priority:"",control_content:{content:[],app:{list:[],action:"",time_id:""},web_file:{http:{status:s["n"].value.enable,excluded_url:[]},ftp:s["n"].value.disable,file_type:[],method:[],action:"",time_id:""},email:{source_addr:{status:s["n"].value.disable,action:"",list:[]},destination_addr:{status:s["n"].value.disable,action:"",list:[]},keyword:{status:s["n"].value.disable,list:[]},attachment:{status:s["n"].value.disable,list:[]},limit:{status:s["n"].value.disable,type:[],size:"",attachments:""}}},application_scope:{scope:l["c"].options.filter((function(t){return t.value!==l["c"].value.sourceIp})).map((function(t){return t.value})),users:[],users_tree:{},terminal:l["L"].options.map((function(t){return t.value})),source_ip:{type:l["H"].value.all,list:[]},destination_ip:{type:l["s"].value.all,list:[]}}},e.inputWidth=496,e.priorityList=[],e.userTreeData=[],e}return m(e,t),e.prototype.created=function(){this.inputWidth=this.$isEnglish?464:496},e.prototype.mounted=function(){this.templateData&&(this.formData=Object(d["n"])({},this.formData,this.templateData)),this.isEdit&&this.initPriorityList(),this.initUserData()},e.prototype.initPriorityList=function(){var t;return b(this,void 0,void 0,(function(){var e,n,o;return h(this,(function(r){switch(r.label){case 0:return[4,i["a"].lowestPriority({id:(null===(t=this.templateData)||void 0===t?void 0:t.id)||""},{mask:this.$parent})];case 1:for(e=r.sent(),n=(null==e?void 0:e.lowest_priority)||1,o=1;o<=n;o++)this.priorityList.push(o);return[2]}}))}))},e.prototype.initUserData=function(){return b(this,void 0,void 0,(function(){var t;return h(this,(function(e){switch(e.label){case 0:return[4,i["a"].userGroup({},{mask:this.$parent})];case 1:return t=e.sent(),this.userTreeData=t?[t]:[],this.templateData||(this.formData.application_scope.users=Object(d["k"])(this.userTreeData)),[2]}}))}))},e.prototype.$_formMixin_request=function(){var t,e=this.$_formMixin_getJsonValue(),n=this.isEdit?y(y({},e),{id:(null===(t=this.templateData)||void 0===t?void 0:t.id)||""}):e;return(this.isEdit?i["a"].edit:i["a"].add)(n,{mask:this.$parent})},_([Object(o["c"])({type:Object})],e.prototype,"templateData",void 0),_([Object(o["c"])({type:Boolean,default:!1})],e.prototype,"isEdit",void 0),e=_([Object(o["a"])({components:{BaseInfo:c["a"],ApplicationScope:u["a"],ControlContent:p["a"]}})],e)}(Object(o["b"])(r["a"],a["a"])),g=v,w=n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),x=Object(w["a"])(g,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("sf-scrollbar",[n("sf-form",{ref:"form",staticClass:"add-strategy",attrs:{"auto-label-width":""}},[n("lang",{staticClass:"common-form-title"},[t._v("基本信息{#title#}")]),t._v(" "),n("base-info",{attrs:{"record-data":t.formData,"priority-list":t.priorityList,"default-width":t.inputWidth,"is-edit":t.isEdit}}),t._v(" "),n("lang",{staticClass:"common-form-title"},[t._v("审计设置{#title#}")]),t._v(" "),n("sf-form-item",{attrs:{"label-text":t._("管控内容")}},[n("control-content",{attrs:{"input-width":t.inputWidth,name:"control_content"},model:{value:t.formData.control_content,callback:function(e){t.$set(t.formData,"control_content",e)},expression:"formData.control_content"}})],1),t._v(" "),n("lang",{staticClass:"common-form-title"},[t._v("适用范围{#title#}")]),t._v(" "),n("sf-form-item",{attrs:{"label-text":t._("适用范围")}},[n("application-scope",{ref:"applicationScope",attrs:{name:"application_scope","user-tree-data":t.userTreeData,"input-width":t.inputWidth},model:{value:t.formData.application_scope,callback:function(e){t.$set(t.formData,"application_scope",e)},expression:"formData.application_scope"}})],1)],1)],1)}),[],!1,null,"1b13571c",null);e["a"]=x.exports}}]);