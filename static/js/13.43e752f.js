(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[13],{"./src/api/swagger/mods/drainageByod.mod.ts":function(t,e,o){"use strict";var n,r=o("./node_modules/axios/index.js"),a=o.n(r);!function(t){t.add=function e(t,o){return a.a.post("/sa/show/v1/drainage/byod/add",t,o)},t.addUrl="/sa/show/v1/drainage/byod/add",t.remove=function o(t,e){return a.a.post("/sa/show/v1/drainage/byod/delete",t,e)},t.removeUrl="/sa/show/v1/drainage/byod/delete",t.detail=function n(t,e){return a.a.post("/sa/show/v1/drainage/byod/detail",t,e)},t.detailUrl="/sa/show/v1/drainage/byod/detail",t.getPriority=function r(t,e){return void 0===t&&(t={}),a.a.post("/sa/show/v1/drainage/byod/get-priority",e)},t.getPriorityUrl="/sa/show/v1/drainage/byod/get-priority",t.list=function i(t,e){return a.a.post("/sa/show/v1/drainage/byod/list",t,e)},t.listUrl="/sa/show/v1/drainage/byod/list",t.modify=function s(t,e){return a.a.post("/sa/show/v1/drainage/byod/modify",t,e)},t.modifyUrl="/sa/show/v1/drainage/byod/modify",t.processList=function l(t,e){return a.a.post("/sa/show/v1/drainage/byod/process-list",t,e)},t.processListUrl="/sa/show/v1/drainage/byod/process-list",t.status=function c(t,e){return a.a.post("/sa/show/v1/drainage/byod/status",t,e)},t.statusUrl="/sa/show/v1/drainage/byod/status",t.timeList=function u(t,e){return void 0===t&&(t={}),a.a.post("/sa/show/v1/drainage/byod/time-list",e)},t.timeListUrl="/sa/show/v1/drainage/byod/time-list",t.updatePriority=function p(t,e){return a.a.post("/sa/show/v1/drainage/byod/update-priority",t,e)},t.updatePriorityUrl="/sa/show/v1/drainage/byod/update-priority",t.userList=function d(t,e){return void 0===t&&(t={}),a.a.post("/sa/show/v1/drainage/byod/user-list",e)},t.userListUrl="/sa/show/v1/drainage/byod/user-list"}(n||(n={})),e["a"]=n},"./src/components/form/add_item_block/index.vue":function(t,e,o){"use strict";var n=o("./node_modules/vue-property-decorator/lib/vue-property-decorator.js"),r=o("./node_modules/lodash-es/cloneDeep.js"),a=o("./node_modules/lodash-es/isNil.js"),i=o("./node_modules/@sxf/sf-vue-component/src/widgets/form/json_field.js"),s=o("./node_modules/@sxf/util/type_of.js"),l=o("./node_modules/@sxf/sf-vue-component/src/util/walk.js");function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(t)}var u=function(){var t=function e(o,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])},t(o,n)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),p=function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i},d=function(t,e){var o="function"==typeof Symbol&&t[Symbol.iterator];if(!o)return t;var n,r,a=o.call(t),i=[];try{for(;(void 0===e||e-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(o=a["return"])&&o.call(a)}finally{if(r)throw r.error}}return i},f=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(d(arguments[e]));return t},m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.deleteShowLength=1,e.tempData={},e}return u(e,t),e.prototype.mounted=function(){this.tempData=this.getTempData()},e.prototype.watchValue=function(){var t=this;this.$nextTick((function(){Object(l["b"])(t,t.setDisabled)}))},e.prototype.setDisabled=function(t){t.defaultDisabled||(t.disabled=this.defaultDisabled,this.$nextTick(t.clearInvalid))},e.prototype.getTempData=function(){var t;if(!Object(a["a"])(this.templateData))return this.templateData;var e=null!==(t=this.value[0])&&void 0!==t?t:{},o={};return Object.keys(e).forEach((function(t){var n=e[t];Object(s["d"])(n)||Object(s["b"])(n)?o[t]="":Array.isArray(n)?o[t]=[]:Object(s["c"])(n)&&(o[t]={})})),o},e.prototype.addSlot=function(){this.defaultDisabled||Object(s["a"])(this.validator)&&this.validator()&&(this.value.length<this.maxCount&&this.$emit("input",f(this.value,[Object(r["a"])(this.tempData)])),this.$emit("add"))},e.prototype.deleteItem=function(t){this.defaultDisabled||this.value.splice(t,1)},p([Object(n["c"])({default:5,type:Number})],e.prototype,"maxCount",void 0),p([Object(n["c"])({default:function t(){return function(){return!0}},type:Function})],e.prototype,"validator",void 0),p([Object(n["c"])({default:function t(){},type:Object})],e.prototype,"templateData",void 0),p([Object(n["c"])({default:function t(){return[]},type:Array})],e.prototype,"value",void 0),p([Object(n["c"])({type:Boolean,default:!1})],e.prototype,"defaultDisabled",void 0),p([Object(n["f"])("defaultDisabled"),Object(n["f"])("value",{deep:!0})],e.prototype,"watchValue",null),e=p([Object(n["a"])({})],e)}(Object(n["b"])(i["a"])),_=m,y=o("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),v=Object(y["a"])(_,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"add-item-block"},[t._l(t.value,(function(e,n){return o("div",{key:n,staticClass:"add-item-block__container"},[t._t("default",null,{index:n}),t._v(" "),t.value.length>t.deleteShowLength?o("div",{staticClass:"add-item-block__icon",on:{click:function(e){return t.deleteItem(n)}}},[t._t("deleteIcon",[o("i",{staticClass:"iconfont icon-shanchubeifen3"})])],2):t._e()],2)})),t._v(" "),t.value.length<t.maxCount?o("span",{on:{click:t.addSlot}},[t._t("addIcon",[o("div",{staticClass:"add-item-block__add-btn"},[o("i",{staticClass:"iconfont icon-chuangjian add-item-block__add-btn-icon"}),t._v(" "),o("lang",{staticClass:"add-item-block__add-btn-text"},[t._v("新增{#btn#}")])],1)])],2):t._e()],2)}),[],!1,null,"d82dbcb2",null);e["a"]=v.exports},"./src/components/select_user/index.vue":function(t,e,o){"use strict";var n=o("./src/components/transfer_tree/index.vue"),r=o("./node_modules/vue-property-decorator/lib/vue-property-decorator.js"),a=o("./src/components/modal_field/index.vue"),i=o("./node_modules/@sxf/util/type_of.js"),s=o("./node_modules/lodash-es/cloneDeep.js"),l=o("./node_modules/@sxf/sf-vue-component/src/widgets/form/json_field.js"),c=o("./src/home/mod_common/util/tool.ts"),u=o("./node_modules/@sxf/util/walk.js"),p=o("./src/util/tool.js");function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(t)}var f=function(){var t=function e(o,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])},t(o,n)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),m=function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"===("undefined"==typeof Reflect?"undefined":d(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i},y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.modalOptions={title:_("用户"),width:640,autoDestroy:!0},e.modalFieldValue=[],e.userList=[],e}return f(e,t),Object.defineProperty(e.prototype,"treeOptions",{get:function t(){return{idProperty:"id",nameProperty:"name",left:{width:320},right:{width:272}}},enumerable:!1,configurable:!0}),e.prototype.onHandlerValue=function(t,e){var o,n;((null==t?void 0:t.length)||(null==e?void 0:e.length))&&(this.modalFieldValue=null!==(o=Object(s["a"])(t))&&void 0!==o?o:[],this.userList=null!==(n=Object(s["a"])(t))&&void 0!==n?n:[],this.initText())},e.prototype.onWatchTreeData=function(){this.initText()},e.prototype.mounted=function(){this.initText()},e.prototype.setTreeValue=function(){this.userList=Object(s["a"])(this.value)},e.prototype.setUserList=function(){this.modalFieldValue=this.value,Object(p["c"])(),this.$emit("input",this.userList)},e.prototype.initText=function(){var t,e;null===(e=null===(t=this.$refs.modalfield)||void 0===t?void 0:t.setInputText)||void 0===e||e.call(t,this.contentRender())},e.prototype.contentRender=function(){var t,e,o=this;if(!(null===(t=this.userList)||void 0===t?void 0:t.length)||!(null===(e=this.treeData)||void 0===e?void 0:e.length))return"";var n=this.treeOptions.nameProperty,r=this.treeOptions.idProperty,a=[],i=!0,s=/^subgroup_/;return Object(u["a"])(this.treeData,(function(t){var e,l;(null===(e=o.userList)||void 0===e?void 0:e.includes(t[r]))?s.test(t[r])&&t.group_name?a.push(t.group_name+"-"+t[n]):a.push(t[n]):(null===(l=t.children)||void 0===l?void 0:l.length)||(i=!1)})),i?this.checkAllText:a.join(_("、"))},e.prototype.handleUserTreeIcon=function(t){var e;return(null===(e=null==t?void 0:t.children)||void 0===e?void 0:e.length)?"iconfont icon-yonghubeifen":"iconfont icon-yonghu2"},e.prototype.getValue=function(){var t;return null!==(t=Object(c["e"])(this.value,this.treeData)[0])&&void 0!==t?t:{}},e.prototype.formatValue=function(){var t,e=this.$refs.tree;return Object(i["a"])(this.formatFn)?null===(t=this.formatFn)||void 0===t?void 0:t.call(this,this.value,e):this.value},m([Object(r["c"])({type:Object,default:function t(){return[]}})],e.prototype,"treeData",void 0),m([Object(r["c"])({type:Array,default:function t(){return[]}})],e.prototype,"value",void 0),m([Object(r["c"])({type:String,default:""})],e.prototype,"paramKey",void 0),m([Object(r["c"])({type:Function})],e.prototype,"formatFn",void 0),m([Object(r["c"])({type:String,default:function t(){return _("全部")}})],e.prototype,"checkAllText",void 0),m([Object(r["f"])("value",{deep:!0,immediate:!0})],e.prototype,"onHandlerValue",null),m([Object(r["f"])("treeData",{deep:!0})],e.prototype,"onWatchTreeData",null),e=m([Object(r["a"])({mixins:[l["a"]],components:{TransferTree:n["a"],ModalField:a["a"]}})],e)}(r["e"]),v=y,h=o("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),b=Object(h["a"])(v,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",{staticClass:"select-user"},[o("modal-field",t._b({ref:"modalfield",attrs:{value:t.modalFieldValue,"modal-options":t.modalOptions,renderer:t.contentRender,icon:"icon-yonghubeifen"},on:{cancel:t.setTreeValue,submit:t.setUserList}},"modal-field",t.$attrs,!1),[o("transfer-tree",{staticClass:"select-user__tree",attrs:{data:t.treeData,"show-expand":!1,"tree-fold-icon":t.handleUserTreeIcon,"tree-expanded-fold-icon":"",options:t.treeOptions},model:{value:t.userList,callback:function(e){t.userList=e},expression:"userList"}})],1)],1)}),[],!1,null,"009bcc6b",null);e["a"]=b.exports},"./src/const/mod_settings.ts":function(t,e,o){"use strict";o.d(e,"b",(function(){return f})),o.d(e,"a",(function(){return g}));var n,r,a,i,s,l,c=o("./src/util/tool.js"),u=o("./src/util/format.ts"),p=function(){return p=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var r in e=arguments[o])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},p.apply(this,arguments)},d={builtIn:"inside",custom:"user"},f={value:d,text:((n={})[d.builtIn]=_("内置"),n[d.custom]=_("自定义"),n)},m={admin:"admin"},y=((r={})[m.admin]=_("管理员"),r),v=(Object(c["o"])(y),{login:"login",delete:"delete",markProcessed:"markProcessed",addStrategy:"addStrategy",editStrategy:"editStrategy",import:"import",export:"export",enable:"enable",disable:"disable"}),h=((a={})[v.login]=_("登录"),a[v["delete"]]=_("删除"),a[v.markProcessed]=_("标记为已处理"),a[v.addStrategy]=_("新增策略"),a[v.editStrategy]=_("修改策略"),a[v["import"]]=_("导入"),a[v["export"]]=_("导出"),a[v.enable]=_("启用"),a[v.disable]=_("禁用"),a),b=(Object(c["o"])(h),{all:"all",custom:"custom"}),g={value:b,text:((i={})[b.all]=_("全年"),i[b.custom]=_("自定义"),i)},w={ad:"ad_account",ssl:"sslvpn_account",mac:"mac",computerName:"computer_name"},x=p({cas:"cas_account"},w),O=((s={})[w.ad]="AD域账号名",s[w.ssl]="SSL VPN域账号名",s[w.mac]="MAC",s[w.computerName]="计算机名",s),D=p(p({},O),((l={})[x.cas]="CAS域账号名",l));Object(u["a"])(O,[w.ad,w.ssl,w.mac,w.computerName]),Object(u["a"])(D,[x.ad,x.ssl,x.mac,x.computerName])},"./src/home/mod_settings/user/user_manage/index.vue":function(t,e,o){"use strict";o.r(e);var n,r=o("./node_modules/vue-property-decorator/lib/vue-property-decorator.js"),a=o("./src/home/mod_common/mixin/table.ts"),i=o("./src/const/common.ts"),s=o("./src/const/guide/user_import.ts"),l=o("./node_modules/@sxf/util/walk.js"),c={name:"SsListDetailLayout",props:{title:{type:String,required:!0},leftWidth:{type:Number,required:!1,default:200},showSearch:{type:Boolean,required:!1,default:!0},searchOptions:{type:Object,default:function t(){return{}}}},data:function t(){return{keyword:""}},computed:{leftFlexStyle:function t(){return"flex: 0 0 ".concat(this.leftWidth,"px")},rightStyle:function t(){return"width: calc(100% - ".concat(this.leftWidth-1,"px);")}},methods:{_onSearch:function t(){this.$emit("search",this.keyword)}}},u=o("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),p=Object(u["a"])(c,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"list-detail-layout"},[o("div",{style:t.leftFlexStyle},[o("sf-flex",{staticClass:"list-detail-layout__left",attrs:{"flex-direction":"column"}},[o("sf-flex-item",{staticClass:"list-detail-layout__title",attrs:{flex:"none"}},[o("span",{staticClass:"list-detail-layout__title-text"},[t._v("\n                    "+t._s(t.title)+"\n                ")]),t._v(" "),o("span",{staticClass:"list-detail-layout__title-right"},[t._t("titleRight")],2)]),t._v(" "),t.showSearch?o("sf-flex-item",{staticClass:"list-detail-layout__search",attrs:{flex:"none"}},[o("sf-searchfield",t._b({staticClass:"list-detail-layout_search-form",on:{clear:t._onSearch,trigger:t._onSearch},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}},"sf-searchfield",t.searchOptions,!1))],1):t._e(),t._v(" "),o("sf-flex-item",{staticClass:"list-detail-layout__list",attrs:{flex:"auto"}},[o("sf-scrollbar",[t._t("listContent",[o("ss-empty-box")])],2)],1)],1)],1),t._v(" "),o("div",{staticClass:"list-detail-layout__right",style:t.rightStyle},[t._t("default")],2)])}),[],!1,null,"56af0ecb",null).exports,d=o("./node_modules/axios/index.js"),f=o.n(d);!function(t){t.addGroup=function e(t,o){return f.a.post("/sa/show/v1/configuration-management/user-management/add-group",t,o)},t.addGroupUrl="/sa/show/v1/configuration-management/user-management/add-group",t.addUser=function o(t,e){return f.a.post("/sa/show/v1/configuration-management/user-management/add-user",t,e)},t.addUserUrl="/sa/show/v1/configuration-management/user-management/add-user",t.bulkEditUser=function n(t,e){return f.a.post("/sa/show/v1/configuration-management/user-management/bulk-edit-user",t,e)},t.bulkEditUserUrl="/sa/show/v1/configuration-management/user-management/bulk-edit-user",t.changeByodStatus=function r(t,e){return f.a.post("/sa/show/v1/configuration-management/user-management/change-byod-status",t,e)},t.changeByodStatusUrl="/sa/show/v1/configuration-management/user-management/change-byod-status",t.changeUsersStatus=function a(t,e){return f.a.post("/sa/show/v1/configuration-management/user-management/change-users-status",t,e)},t.changeUsersStatusUrl="/sa/show/v1/configuration-management/user-management/change-users-status",t.deleteGroup=function i(t,e){return f.a.post("/sa/show/v1/configuration-management/user-management/delete-group",t,e)},t.deleteGroupUrl="/sa/show/v1/configuration-management/user-management/delete-group",t.deleteUsers=function s(t,e){return f.a.post("/sa/show/v1/configuration-management/user-management/delete-users",t,e)},t.deleteUsersUrl="/sa/show/v1/configuration-management/user-management/delete-users",t.editGroup=function l(t,e){return f.a.post("/sa/show/v1/configuration-management/user-management/edit-group",t,e)},t.editGroupUrl="/sa/show/v1/configuration-management/user-management/edit-group",t.editUser=function c(t,e){return f.a.post("/sa/show/v1/configuration-management/user-management/edit-user",t,e)},t.editUserUrl="/sa/show/v1/configuration-management/user-management/edit-user",t.exportUsers=function u(t,e){return f.a.post("/sa/show/v1/configuration-management/user-management/export-users",t,e)},t.exportUsersUrl="/sa/show/v1/configuration-management/user-management/export-users",t.getByodNumber=function p(t,e){return void 0===t&&(t={}),f.a.post("/sa/show/v1/configuration-management/user-management/get-byod-number",e)},t.getByodNumberUrl="/sa/show/v1/configuration-management/user-management/get-byod-number",t.getCaptcha=function d(t,e){return void 0===t&&(t={}),f.a.post("/sa/show/v1/configuration-management/user-management/get-captcha",e)},t.getCaptchaUrl="/sa/show/v1/configuration-management/user-management/get-captcha",t.getStrategyTypes=function m(t,e){return f.a.post("/sa/show/v1/configuration-management/user-management/get-strategy-types",t,e)},t.getStrategyTypesUrl="/sa/show/v1/configuration-management/user-management/get-strategy-types",t.getUserDetail=function _(t,e){return f.a.post("/sa/show/v1/configuration-management/user-management/get-user-detail",t,e)},t.getUserDetailUrl="/sa/show/v1/configuration-management/user-management/get-user-detail",t.getUserGroups=function y(t,e){return f.a.post("/sa/show/v1/configuration-management/user-management/get-user-groups",t,e)},t.getUserGroupsUrl="/sa/show/v1/configuration-management/user-management/get-user-groups",t.getUserList=function v(t,e){return f.a.post("/sa/show/v1/configuration-management/user-management/get-user-list",t,e)},t.getUserListUrl="/sa/show/v1/configuration-management/user-management/get-user-list",t.importUsers=function h(t,e){return f.a.post("/sa/show/v1/configuration-management/user-management/import-users",t,e)},t.importUsersUrl="/sa/show/v1/configuration-management/user-management/import-users",t.verifyCaptcha=function b(t,e){return f.a.post("/sa/show/v1/configuration-management/user-management/verify-captcha",t,e)},t.verifyCaptchaUrl="/sa/show/v1/configuration-management/user-management/verify-captcha"}(n||(n={}));var m=n,y=o("./src/home/mod_common/decorators/table.ts"),v=o("./src/components/user_guide/guide_mixin.ts"),h=o("./node_modules/vuex-class/lib/index.js"),b=o("./src/home/mod_common/mixin/form.ts");function g(t){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(t)}var w,x,O,D=function(){var t=function e(o,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])},t(o,n)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),S=function(){return S=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var r in e=arguments[o])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},S.apply(this,arguments)},j=function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"===("undefined"==typeof Reflect?"undefined":g(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i},T=function(t,e,o,n){return new(o||(o=Promise))((function(r,a){function i(t){try{l(n.next(t))}catch(t){a(t)}}function s(t){try{l(n["throw"](t))}catch(t){a(t)}}function l(t){t.done?r(t.value):function e(t){return t instanceof o?t:new o((function(e){e(t)}))}(t.value).then(i,s)}l((n=n.apply(t,e||[])).next())}))},k=function(t,e){var o,n,r,a,i={label:0,sent:function t(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function l(a){if(o)throw new TypeError("Generator is already executing.");for(;i;)try{if(o=1,n&&(r=2&a[0]?n["return"]:a[0]?n["throw"]||((r=n["return"])&&r.call(n),0):n.next)&&!(r=r.call(n,a[1])).done)return r;switch(n=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(r=i.trys,(r=r.length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],n=0}finally{o=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},C=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.treeOptions={headerHide:!0,bufferView:!1,autoWidth:!1},e.MODIFY_VALUE={add:"add",edit:"edit",append:"append"},e.primaryGroupId="",e.groupName="",e.primaryGroupDisable=!1,e}return D(e,t),Object.defineProperty(e.prototype,"inputWidth",{get:function t(){return this.$isEnglish?311:336},enumerable:!1,configurable:!0}),e.prototype.mounted=function(){this.primaryGroupId=this.getPrimaryGroupId(),this.groupName=this.type===this.MODIFY_VALUE.edit?this.record.name:"",this.primaryGroupDisable=this.type===this.MODIFY_VALUE.append},e.prototype.getPrimaryGroupId=function(){switch(!0){case this.type===this.MODIFY_VALUE.append:return this.record.id;case this.type===this.MODIFY_VALUE.edit:return this.record.group_id;default:return""}},e.prototype.loadGroup=function(){return T(this,void 0,void 0,(function(){return k(this,(function(t){switch(t.label){case 0:return[4,m.getUserGroups({leaf_node:i["n"].value.disable})];case 1:return[2,t.sent()]}}))}))},e.prototype.treeRender=function(t,e){return e.name},e.prototype.$_formMixin_request=function(){var t="addGroup",e=this.$_formMixin_getJsonValue();return this.type===this.MODIFY_VALUE.edit&&(t="editGroup",e=S(S({},e),{id:this.record.id})),m[t](e,{mask:this.$parent})},j([Object(r["c"])({type:String,default:""})],e.prototype,"type",void 0),j([Object(r["c"])({type:Object,default:function t(){return{}}})],e.prototype,"record",void 0),e=j([Object(r["a"])({})],e)}(Object(r["b"])(b["a"])),P=C,U=Object(u["a"])(P,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("sf-form",{ref:"form",staticClass:"modify-user-group",attrs:{"label-width":t.$isEnglish?85:60}},[o("sf-form-item",{attrs:{"label-text":t._("组名{#label#}")}},[o("sf-textfield",{attrs:{name:"name",vtype:"user_group_name","min-length":4,"max-length":95,"allow-blank":!1,"default-width":t.inputWidth},model:{value:t.groupName,callback:function(e){t.groupName=e},expression:"groupName"}})],1),t._v(" "),o("sf-form-item",{attrs:{"label-text":t._("所属组{#label#}")}},[o("sf-select-tree",{attrs:{"default-width":t.inputWidth,name:"ref_group_id","default-disabled":t.primaryGroupDisable,"model-key":"id","allow-blank":!1},model:{value:t.primaryGroupId,callback:function(e){t.primaryGroupId=e},expression:"primaryGroupId"}},[o("sf-light-tree",{staticClass:"modify-user-group__tree",attrs:{"default-width":t.inputWidth,"tree-expanded-fold-icon":"","tree-fold-icon":"icon-yonghubeifen iconfont",load:t.loadGroup}},[o("sf-tree-column",{attrs:{"data-index":"name",renderer:t.treeRender}})],1)],1)],1)],1)}),[],!1,null,"2944ad2f",null).exports,$=o("./src/home/mod_common/mixin/modal.ts"),R=o("./src/const/mod_strategy.ts"),A=o("./src/api/swagger/mods/strategyTerminalControl.mod.ts"),E=o("./src/api/swagger/mods/strategyAppControl.mod.ts"),I=o("./src/api/swagger/mods/strategyContentDetect.mod.ts"),L=o("./src/api/swagger/mods/strategyAppAudit.mod.ts"),M=o("./src/api/swagger/mods/strategyTerminalAudit.mod.ts"),N=o("./src/api/swagger/mods/drainageByod.mod.ts"),G={value:"priority",title:_("优先级{#header#}"),defaultWidth:58},W={value:"name",title:_("策略名称{#header#}")},V={value:"application",title:_("适用范围{#header#}")},B={value:"time_name",title:_("生效时间{#header#}")},Y={value:"content",title:_("管控内容{#header#}"),render:function t(e){return(null==e?void 0:e.map((function(t){return i["f"].text[t]})).join(_("、")))||"-"}},F={value:"content",title:_("识别内容{#header#}"),render:function t(e){return(null==e?void 0:e.map((function(t){return R["y"].text[t]})).join(_("、")))||"-"}},q={value:"content",title:_("内容{#header#}"),render:function t(e){return(null==e?void 0:e.map((function(t){return R["e"].text[t]})).join(_("、")))||"-"}},z={value:"target",title:_("审计对象{#header#}"),render:function t(e){return(null==e?void 0:e.map((function(t){return R["K"].text[t]})).join(_("、")))||"-"}},H={value:"users_name",title:_("适用用户{#header#}"),render:function t(e){return(null==e?void 0:e.length)?null==e?void 0:e.join(_("、")):"-"}},Q={drainageByod:"drainage_byod",appAudit:"audit_app",terminalAudit:"audit_terminal",appControl:"control_app",terminalControl:"control_terminal",contentRecognition:"content_detect"},J=((w={})[Q.terminalControl]=[G,W,V,B],w[Q.appControl]=[G,W,Y,V,B],w[Q.contentRecognition]=[G,W,F,V,B],w[Q.appAudit]=[G,W,q,V,B],w[Q.terminalAudit]=[G,W,z,V,B],w[Q.drainageByod]=[G,W,H,B],w),K=((x={})[Q.terminalControl]=A["a"].list,x[Q.appControl]=E["a"].list,x[Q.contentRecognition]=I["a"].list,x[Q.appAudit]=L["a"].list,x[Q.terminalAudit]=M["a"].list,x[Q.drainageByod]=N["a"].list,x),Z={strategyName:W.value,priority:G.value,application:V.value},X=Q,tt=o("./src/home/mod_strategy/online_strategy/behavior_audit/app_audit/modal/add_strategy/index.vue"),et=o("./src/home/mod_strategy/online_strategy/control_strategy/terminal_control/modal/add_strategy/index.vue"),ot=o("./src/home/mod_strategy/online_strategy/control_strategy/app_control/modal/add_strategy/index.vue"),nt=o("./src/home/mod_strategy/online_strategy/content_recognition/modal/add_strategy/index.vue"),rt=o("./src/home/mod_strategy/online_strategy/behavior_audit/terminal_audit/modal/add_strategy/index.vue"),at=o("./src/home/mod_strategy/drainage/byod/modal/modify.vue"),it=((O={})[X.terminalControl]={detail:"TerminalControlDetail",modal:et["a"]},O[X.appControl]={detail:"AppControlDetail",modal:ot["a"]},O[X.contentRecognition]={detail:"ContentRecognitionDetail",modal:nt["a"]},O[X.terminalAudit]={detail:"TerminalAuditDetail",modal:rt["a"]},O[X.appAudit]={detail:"BehaviorAuditDetail",modal:tt["a"]},O[X.drainageByod]={detail:"BYODDetail",modal:at["a"]},O);function st(t){return st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},st(t)}var lt=function(){var t=function e(o,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])},t(o,n)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ct=function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"===("undefined"==typeof Reflect?"undefined":st(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i},ut=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.show=!0,e}return lt(e,t),e.prototype.changeShow=function(){this.show=!this.show},ct([Object(r["c"])({type:String,default:""})],e.prototype,"title",void 0),e=ct([Object(r["a"])({components:{}})],e)}(r["e"]),pt=ut,dt=Object(u["a"])(pt,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"collapse"},[o("div",{staticClass:"collapse__warp",on:{click:t.changeShow}},[o("div",{staticClass:"collapse__warp-title common-ellipsis"},[t._v("\n            "+t._s(t.title)+"\n        ")]),t._v(" "),o("i",{class:[t.show?"":"collapse__rotate","iconfont icon-Normal collapse__icon"]})]),t._v(" "),o("sf-collapse-transition",[o("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}]},[t._t("default")],2)])],1)}),[],!1,null,"7bd79df1",null).exports,ft=o("./src/home/mod_common/util/tool.ts");function mt(t){return mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mt(t)}var _t=function(){var t=function e(o,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])},t(o,n)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),yt=function(){return yt=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var r in e=arguments[o])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},yt.apply(this,arguments)},vt=function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"===("undefined"==typeof Reflect?"undefined":mt(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i},ht=function(t,e,o,n){return new(o||(o=Promise))((function(r,a){function i(t){try{l(n.next(t))}catch(t){a(t)}}function s(t){try{l(n["throw"](t))}catch(t){a(t)}}function l(t){t.done?r(t.value):function e(t){return t instanceof o?t:new o((function(e){e(t)}))}(t.value).then(i,s)}l((n=n.apply(t,e||[])).next())}))},bt=function(t,e){var o,n,r,a,i={label:0,sent:function t(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function l(a){if(o)throw new TypeError("Generator is already executing.");for(;i;)try{if(o=1,n&&(r=2&a[0]?n["return"]:a[0]?n["throw"]||((r=n["return"])&&r.call(n),0):n.next)&&!(r=r.call(n,a[1])).done)return r;switch(n=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(r=i.trys,(r=r.length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],n=0}finally{o=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},gt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.selectedRecord={strategy_label:"",strategy_type:""},e.noSelectedFirstOptions={rowCls:function t(e){return e.selectAble?"":"tree-node-disabled"}},e.ALL_TYPE=J,e.ALL_TYPE_NAME=Z,e.formatApplicationScope=ft["a"],e.isDetailShow=!1,e}return _t(e,t),e.prototype.loadStrategTree=function(){return ht(this,void 0,void 0,(function(){var t,e,o=this;return bt(this,(function(n){switch(n.label){case 0:return[4,m.getStrategyTypes({user_id:this.userId})];case 1:return t=n.sent(),e=!0,Object(l["a"])(t,(function(t){return!t.children&&e&&(t.selected=!0,o.treeRecordSelect(t),e=!1),t.children&&(t.selected=!1,t.selectAble=!1),!0})),[2,t]}}))}))},e.prototype.treeRecordSelect=function(t){var e=this;t.strategy_type&&!t.children&&(this.selectedRecord=t,this.$nextTick((function(){var o;null===(o=e.$refs.table)||void 0===o||o.setLoadParams({type:t.strategy_type,user_id:e.userId,keyword:""}),e.$_tableMixin_refresh()})))},e.prototype.isScopeShow=function(t){var e,o;return null===(o=null===(e=t.application_scope)||void 0===e?void 0:e.scope)||void 0===o?void 0:o.length},e.prototype.showStrategyDetail=function(t){this.$emit("show-strategy-detail",yt(yt({},t),{type:this.selectedRecord.strategy_type}))},vt([Object(r["c"])({type:String,default:""})],e.prototype,"userId",void 0),vt([Object(y["a"])((function(t){return{loadParams:{type:"",user_id:""},autoLoad:!1,loadFn:function e(o){var n=K[t.selectedRecord.strategy_type];if(o.user_id&&n)return n(o)}}}))],e.prototype,"tableOptions",void 0),e=vt([Object(r["a"])({components:{}})],e)}(Object(r["b"])(a["a"])),wt=gt,xt=Object(u["a"])(wt,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"merge-strategy"},[o("div",{staticClass:"merge-strategy__left"},[o("div",{staticClass:"merge-strategy__title"},[o("lang",[t._v("策略类型")])],1),t._v(" "),o("sf-light-tree",{ref:"tree",staticClass:"merge-strategy__tree",attrs:{"tree-table-options":t.noSelectedFirstOptions,"show-expand":!1,"tree-name":"strategy_label","tree-i-d":"strategy_type","show-toolbar":!1,"tree-fold-icon":!1,"default-width":144,load:t.loadStrategTree},on:{"select-node":t.treeRecordSelect}})],1),t._v(" "),o("div",{staticClass:"merge-strategy__right"},[o("div",{staticClass:"merge-strategy__title"},[t._v("\n            "+t._s(t._f("empty")(t.selectedRecord.strategy_label))+"\n        ")]),t._v(" "),o("sf-grid",[t.ALL_TYPE[t.selectedRecord.strategy_type]?o("sf-table",{ref:"table",attrs:{"default-height":350,options:t.tableOptions}},t._l(t.ALL_TYPE[t.selectedRecord.strategy_type],(function(e){return o("sf-table-column",t._b({key:e.value,attrs:{"data-index":e.value},scopedSlots:t._u([{key:"default",fn:function(n){var r=n.record;return[e.value===t.ALL_TYPE_NAME.strategyName?o("span",{staticClass:"common-detail-text",on:{click:function(e){return t.showStrategyDetail(r)}}},[t._v("\n                            "+t._s(t._f("empty")(r&&r[e.value]))+"\n                        ")]):e.value===t.ALL_TYPE_NAME.application?o("span",[t.isScopeShow(r)?o("div",{staticClass:"terminal-audit__scope"},t._l(r.application_scope.scope,(function(e,n){return o("p",{directives:[{name:"title",rawName:"v-title"}],key:n,staticClass:"common-ellipsis terminal-audit__scope-item"},[t._v("\n                                    "+t._s(t.formatApplicationScope(r.application_scope,e))+"\n                                ")])})),0):o("span",[t._v("\n                                -\n                            ")])]):e.render?o("span",{directives:[{name:"title",rawName:"v-title"}]},[t._v(" \n                            "+t._s(e.render(r[e.value]))+"\n                        ")]):o("span",{directives:[{name:"title",rawName:"v-title"}]},[t._v("\n                            "+t._s(t._f("empty")(r[e.value]))+"\n                        ")])]}}],null,!0)},"sf-table-column",e,!1))})),1):o("ss-empty-box",[o("lang",[t._v("暂无数据")])],1)],1)],1)])}),[],!1,null,"5d5787d4",null).exports,Ot={props:{text:{type:String,default:""}},data:function t(){return{hide:!0}},computed:{password:function t(){var e=String(this.text);return this.hide?e.replace(/./gi,"*"):e},iconCls:function t(){return"icon-".concat(this.hide?"biyan":"kaiyan")}},mounted:function t(){document.addEventListener("mouseup",this.mouseup)},beforeDestroy:function t(){document.removeEventListener("mouseup",this.mouseup)},methods:{mousedown:function t(){this.hide=!1},mouseup:function t(){this.hide=!0}}},Dt=Object(u["a"])(Ot,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",{staticClass:"password-render"},[o("span",{staticClass:"password-render__text"},[t._v("\n        "+t._s(t.password)+"\n    ")]),t._v(" "),o("i",{class:["iconfont","common-link__text",t.iconCls],on:{mousedown:t.mousedown}})])}),[],!1,null,"39312ef2",null).exports,St=o("./src/home/mod_strategy/online_strategy/behavior_audit/app_audit/detail/index.vue"),jt=o("./src/home/mod_strategy/online_strategy/control_strategy/terminal_control/detail/index.vue"),Tt=o("./src/home/mod_strategy/online_strategy/control_strategy/app_control/detail/index.vue"),kt=o("./src/home/mod_strategy/online_strategy/content_recognition/detail/index.vue"),Ct=o("./src/home/mod_strategy/online_strategy/behavior_audit/terminal_audit/detail/index.vue"),Pt=o("./src/home/mod_strategy/drainage/byod/detail/index.vue");function Ut(t){return Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ut(t)}var $t=function(){var t=function e(o,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])},t(o,n)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Rt=function(){return Rt=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var r in e=arguments[o])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},Rt.apply(this,arguments)},At=function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"===("undefined"==typeof Reflect?"undefined":Ut(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i},Et=function(t,e,o,n){return new(o||(o=Promise))((function(r,a){function i(t){try{l(n.next(t))}catch(t){a(t)}}function s(t){try{l(n["throw"](t))}catch(t){a(t)}}function l(t){t.done?r(t.value):function e(t){return t instanceof o?t:new o((function(e){e(t)}))}(t.value).then(i,s)}l((n=n.apply(t,e||[])).next())}))},It=function(t,e){var o,n,r,a,i={label:0,sent:function t(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function l(a){if(o)throw new TypeError("Generator is already executing.");for(;i;)try{if(o=1,n&&(r=2&a[0]?n["return"]:a[0]?n["throw"]||((r=n["return"])&&r.call(n),0):n.next)&&!(r=r.call(n,a[1])).done)return r;switch(n=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(r=i.trys,(r=r.length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],n=0}finally{o=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},Lt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.STATUS=i["n"],e.USER_GUIDE=s["a"],e.COMPONENT_MAP=it,e.textRenderOptions={labelWidth:60,lineHeight:24},e.detailData={add_by:"",free_auth:"",group:"",group_id:"",id:"",allow_ip:i["n"].value.enable,ip:[],name:"",password:"",strategy_list:[],user:"",is_pop_logout:i["n"].value.enable,many_user_login:i["n"].value.enable},e.isDetailShow=!1,e.strategyRecord={type:"",name:""},e}return $t(e,t),e.prototype.getDetail=function(){return this.detailData},Object.defineProperty(e.prototype,"userInfo",{get:function t(){var e=this.detailData;return[Rt({labelText:_("显示名{#label#}"),value:e.name},this.textRenderOptions),Rt({labelText:_("登录账号{#label#}"),value:e.user},this.textRenderOptions),Rt({labelText:_("密码{#label#}"),type:"password",value:e.password},this.textRenderOptions),Rt({labelText:_("添加人{#label#}"),value:e.add_by},this.textRenderOptions),Rt({labelText:_("所属组{#label#}"),value:e.group},this.textRenderOptions)]},enumerable:!1,configurable:!0}),e.prototype.onWatchID=function(){this.getUserDetail()},e.prototype.getUserDetail=function(){return Et(this,void 0,void 0,(function(){var t;return It(this,(function(e){switch(e.label){case 0:return this.record.id?(t=this,[4,m.getUserDetail({id:this.record.id},{mask:this.$parent})]):[2];case 1:return t.detailData=e.sent(),[2]}}))}))},e.prototype.showMergeStrategy=function(){var t=this,e=this.$modal(xt,{autoDestroy:!0,title:_("合并后的策略详情-{0}{#title#}",this.detailData.name),width:720,height:532,props:{userId:this.detailData.id}});e.open(),e.formRoot.$on("show-strategy-detail",(function(o){t.showStrategyDetail(o),e.hide()}))},e.prototype.formatStrategyTitle=function(t){var e=t.name,o=t.list;return _("{0}（{1}）",e,(null==o?void 0:o.length)||0)},e.prototype.showStrategyDetail=function(t){this.strategyRecord=t,this.isDetailShow=!0},e.prototype.editStrategyModal=function(){var t,e=this,o=null===(t=this.$refs.detail)||void 0===t?void 0:t.$_detailMixin_getDetail();this.$_modalMixin_showModal(it[this.strategyRecord.type].modal,{title:_("编辑{#title#}"),isScrollbar:!0,width:640,props:{templateData:o,isEdit:!0},submitCallback:function t(){return Et(e,void 0,void 0,(function(){var t,e,o,n;return It(this,(function(r){switch(r.label){case 0:return[4,null===(e=null===(t=this.$refs.detail)||void 0===t?void 0:t.loadDetail)||void 0===e?void 0:e.call(t)];case 1:return r.sent(),this.getUserDetail(),this.strategyRecord.name=null===(n=null===(o=this.$refs.detail)||void 0===o?void 0:o.$_detailMixin_getDetail())||void 0===n?void 0:n.name,[2]}}))}))}})},At([Object(r["c"])({type:Object,default:function t(){return{}}})],e.prototype,"record",void 0),At([Object(r["f"])("record.id",{immediate:!0})],e.prototype,"onWatchID",null),e=At([Object(r["a"])({components:{PasswordRender:Dt,StrategyCollapse:dt,MergeStrategy:xt,BehaviorAuditDetail:St["a"],TerminalControlDetail:jt["a"],AppControlDetail:Tt["a"],ContentRecognitionDetail:kt["a"],TerminalAuditDetail:Ct["a"],BYODDetail:Pt["a"]}})],e)}(Object(r["b"])(b["a"],$["a"])),Mt=Lt,Nt=Object(u["a"])(Mt,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",{staticClass:"user-detail"},[o("lang",{staticClass:"common-form-title"},[t._v("用户属性{#title#}")]),t._v(" "),o("div",{staticClass:"user-detail__user-info"},t._l(t.userInfo,(function(e,n){return o("ss-text-render",t._b({key:n,staticClass:"user-detail__text-render"},"ss-text-render",e,!1),["password"===e.type?o("password-render",{attrs:{text:e.value}}):o("span",{staticClass:"common-ellipsis user-detail__text-render-value",attrs:{title:e.value}},[t._v("\n                "+t._s(t._f("empty")(e.value))+"\n            ")])],1)})),1),t._v(" "),o("lang",{staticClass:"common-form-title"},[t._v("高级设置{#title#}")]),t._v(" "),o("div",{staticClass:"user-detail__ip-checkbox"},[o("sf-checkbox",{attrs:{"default-disabled":!0,"true-value":t.STATUS.value.enable,"false-value":t.STATUS.value.disable},model:{value:t.detailData.allow_ip,callback:function(e){t.$set(t.detailData,"allow_ip",e)},expression:"detailData.allow_ip"}},[o("lang",[t._v("绑定IP：")])],1),t._v(" "),o("div",{staticClass:"user-detail__ip-container"},t._l(t.detailData.ip,(function(e){return o("div",{key:e,staticClass:"user-detail__ip-container-item"},[t._v("\n                "+t._s(t._f("empty")(e))+"\n            ")])})),0)],1),t._v(" "),o("sf-checkbox",{staticClass:"user-detail__checkbox--block",attrs:{"default-disabled":!0,"true-value":t.STATUS.value.enable,"false-value":t.STATUS.value.disable},model:{value:t.detailData.is_pop_logout,callback:function(e){t.$set(t.detailData,"is_pop_logout",e)},expression:"detailData.is_pop_logout"}},[o("lang",[t._v("密码认证成功后弹出注销窗口")])],1),t._v(" "),o("sf-checkbox",{staticClass:"user-detail__checkbox--block",attrs:{"default-disabled":!0,"true-value":t.STATUS.value.enable,"false-value":t.STATUS.value.disable},model:{value:t.detailData.many_user_login,callback:function(e){t.$set(t.detailData,"many_user_login",e)},expression:"detailData.many_user_login"}},[o("lang",[t._v("允许多人同时使用该账号登录")])],1),t._v(" "),o("lang",{staticClass:"common-form-title"},[t._v("策略{#title#}")]),t._v(" "),t._l(t.detailData.strategy_list,(function(e){return o("strategy-collapse",{key:e.type,attrs:{title:t.formatStrategyTitle(e)}},t._l(e.list,(function(n){return o("div",{key:n.strategy_id,staticClass:"user-detail__strategy-detail"},[o("div",{staticClass:"user-detail__merge-strategy-text user-detail__strategy-detail-content common-link__text common-ellipsis",on:{click:function(o){return t.showStrategyDetail({name:n.strategy_name,id:n.strategy_id,type:e.type})}}},[t._v("\n                "+t._s(t._f("empty")(n.strategy_name))+"\n            ")])])})),0)})),t._v(" "),t.detailData.strategy_list.length?o("div",{staticClass:"user-detail__merge-strategy",class:t.USER_GUIDE.value.strategyDetail,on:{click:t.showMergeStrategy}},[o("i",{staticClass:"iconfont icon-kaiyan user-detail__merge-strategy-icon"}),t._v(" "),o("lang",{staticClass:"user-detail__merge-strategy-text"},[t._v("查看合并后的策略详情")])],1):o("ss-empty-box"),t._v(" "),o("sf-drawer",{attrs:{title:t.strategyRecord.name,visible:t.isDetailShow,"destroy-on-close":!0,size:"640px",direction:"rtl"},on:{"update:visible":function(e){t.isDetailShow=e}}},[t.COMPONENT_MAP[t.strategyRecord.type]?o(t.COMPONENT_MAP[t.strategyRecord.type].detail,{ref:"detail",tag:"component",attrs:{record:t.strategyRecord}}):t._e(),t._v(" "),o("template",{slot:"footer"},[o("sf-button-primary",{on:{click:function(e){return t.editStrategyModal(t.strategyRecord)}}},[o("lang",[t._v("编辑{#btn#}")])],1)],1)],2)],2)}),[],!1,null,"5aa8701f",null).exports,Gt=(o("./node_modules/@sxf/saas-business-component/lib/css/upload.css"),o("./node_modules/@sxf/saas-business-component/lib/css/base.css"),o("./node_modules/@sxf/saas-business-component/lib/upload.js")),Wt=o.n(Gt),Vt=o("./src/util/download.js");function Bt(t){return Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bt(t)}var Yt=function(){var t=function e(o,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])},t(o,n)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ft=function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"===("undefined"==typeof Reflect?"undefined":Bt(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i},qt=function(t,e,o,n){return new(o||(o=Promise))((function(r,a){function i(t){try{l(n.next(t))}catch(t){a(t)}}function s(t){try{l(n["throw"](t))}catch(t){a(t)}}function l(t){t.done?r(t.value):function e(t){return t instanceof o?t:new o((function(e){e(t)}))}(t.value).then(i,s)}l((n=n.apply(t,e||[])).next())}))},zt=function(t,e){var o,n,r,a,i={label:0,sent:function t(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function l(a){if(o)throw new TypeError("Generator is already executing.");for(;i;)try{if(o=1,n&&(r=2&a[0]?n["return"]:a[0]?n["throw"]||((r=n["return"])&&r.call(n),0):n.next)&&!(r=r.call(n,a[1])).done)return r;switch(n=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(r=i.trys,(r=r.length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],n=0}finally{o=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},Ht={same:"same",different:"different"},Qt={auto:"auto",manual:"manual"},Jt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.PASSWORD_TYPE=Ht,e.GENERATE_METHOD=Qt,e.STATUS=i["n"],e.formData={generate_method:Qt.auto,password_type:Ht.same},e.labelWidth=108,e.file_hash_name="",e.file_name="",e.uploadSuccess=!1,e.uploadUrl=m.importUsersUrl,e}return Yt(e,t),e.prototype.$_modalFormMixin_submit=function(){var t,e,o;return qt(this,void 0,void 0,(function(){return zt(this,(function(n){switch(n.label){case 0:return(null===(e=null===(t=this.$refs.uploadRef)||void 0===t?void 0:t.getFiles("queued"))||void 0===e?void 0:e[0])?[4,null===(o=this.$refs.uploadRef)||void 0===o?void 0:o.submit(this.formData)]:(this.$warn(_("请先上传文件{#tip#}"),{autoHide:!0}),[2]);case 1:return n.sent(),[2]}}))}))},e.prototype.onUploadSuccess=function(){this.$ok(_("上传成功！{#tip#}")),this.$emit("submit-success"),this.$emit("close-modal")},e.prototype.changePasswordType=function(t){this.formData.password_type=t},e.prototype.downloadTemplate=function(){var t=".xlsx",e="auto_generate",o=_("系统自动生成账号_密码相同_导入员工模板"),n=_("系统自动生成账号_密码不同_导入员工模板"),r=_("手动填写账号_导入员工模板"),a="",i="",s=this.$isEnglish?"_en":"";switch(!0){case this.formData.generate_method===Qt.auto&&this.formData.password_type===Ht.same:a=e,i=o;break;case this.formData.generate_method===Qt.auto&&this.formData.password_type===Ht.different:a=e,i=n;break;case this.formData.generate_method===Qt.manual:a="no_generate",i=r}Object(Vt["a"])("./static/download_file/"+a+s+t,i+t)},e=Ft([Object(r["a"])({components:{SsUpload:Wt.a}})],e)}(Object(r["b"])(b["a"])),Kt=Jt,Zt=Object(u["a"])(Kt,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("sf-form",{ref:"form",staticClass:"import-user",attrs:{"label-width":t.labelWidth}},[o("div",{staticClass:"common-form-title"},[t._v("\n        "+t._s(t._("模板设置{#title#}"))+"\n    ")]),t._v(" "),o("sf-form-item",{attrs:{"label-text":t._("登录账号填充方式{#label#}")}},[o("sf-radio-group",{attrs:{name:"generate_method"},model:{value:t.formData.generate_method,callback:function(e){t.$set(t.formData,"generate_method",e)},expression:"formData.generate_method"}},[o("sf-radio",{attrs:{name:"generate_method","check-value":t.GENERATE_METHOD.auto}},[o("lang",{staticClass:"import-user__radio"},[t._v("系统自动生成")])],1),t._v(" "),o("sf-radio",{attrs:{name:"generate_method","check-value":t.GENERATE_METHOD.manual}},[o("lang",{staticClass:"import-user__radio"},[t._v("不生成（可手动选填）")])],1)],1),t._v(" "),o("lang",{staticClass:"import-user__help-desc"},[t._v("登录账号用于客户端登录和账号方式认证登录")])],1),t._v(" "),t.formData.generate_method===t.GENERATE_METHOD.auto?o("sf-form-item",{attrs:{"label-text":t._("生成方式{#label#}")}},[o("sf-radio-group",{attrs:{name:"password_type"},model:{value:t.formData.password_type,callback:function(e){t.$set(t.formData,"password_type",e)},expression:"formData.password_type"}},[o("div",{staticClass:"import-user__generate-type",class:t.formData.password_type===t.PASSWORD_TYPE.same?"import-user__generate-type--selected":"",on:{click:function(e){return t.changePasswordType(t.PASSWORD_TYPE.same)}}},[o("div",{staticClass:"import-user__generate-type-title"},[o("lang",{staticClass:"import-user__generate-type-title--normal"},[t._v("系统生成账号，全部密码")]),t._v(" "),o("lang",{staticClass:"import-user__generate-type-title--special"},[t._v("相同")])],1),t._v(" "),o("sf-radio",{attrs:{name:"password_type","check-value":t.PASSWORD_TYPE.same}},[o("lang",[t._v("账号和相同密码")])],1)],1),t._v(" "),o("div",{staticClass:"import-user__generate-type",class:t.formData.password_type===t.PASSWORD_TYPE.different?"import-user__generate-type--selected":"",on:{click:function(e){return t.changePasswordType(t.PASSWORD_TYPE.different)}}},[o("div",{staticClass:"import-user__generate-type-title"},[o("lang",{staticClass:"import-user__generate-type-title--normal"},[t._v("系统生成账号，每个用户密码")]),t._v(" "),o("lang",{staticClass:"import-user__generate-type-title--special"},[t._v("不同")])],1),t._v(" "),o("sf-radio",{attrs:{name:"password_type","check-value":t.PASSWORD_TYPE.different}},[o("lang",[t._v("账号和不同密码")])],1)],1)])],1):t._e(),t._v(" "),o("div",{staticClass:"common-form-title"},[t._v("\n        "+t._s(t._("导入员工信息{#title#}"))+"\n    ")]),t._v(" "),o("sf-form-item",[o("sf-fieldlabel",{attrs:{"label-width":t.labelWidth}},[o("lang",[t._v("选择文件{#label#}")])],1),t._v(" "),o("ss-upload",{ref:"uploadRef",attrs:{url:t.uploadUrl,type:"input","btn-text":t._("选择{#btn#}"),"is-auto":!1,"show-ext-tip":!1,"accept-ext":["xlsx","xls"],"input-width":368,"on-success":t.onUploadSuccess,accept:{extensions:"xlsx,xls",mimeTypes:".xlsx,.xls"},"default-file-name":t._("支持扩展名：{0}",".xlsx .xls")}}),t._v(" "),o("div",{staticClass:"import-user__dowload-template",on:{click:t.downloadTemplate}},[o("lang",[t._v("下载模板")])],1)],1)],1)}),[],!1,null,"7146d4e1",null).exports,Xt=o("./src/components/form/add_item_block/index.vue"),te=o("./src/components/password_common/index.vue"),ee=o("./src/components/local_tips/index.vue"),oe=o("./node_modules/lodash-es/cloneDeep.js");function ne(t){return ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ne(t)}var re=function(){var t=function e(o,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])},t(o,n)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ae=function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"===("undefined"==typeof Reflect?"undefined":ne(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i},ie=function(t,e,o,n){return new(o||(o=Promise))((function(r,a){function i(t){try{l(n.next(t))}catch(t){a(t)}}function s(t){try{l(n["throw"](t))}catch(t){a(t)}}function l(t){t.done?r(t.value):function e(t){return t instanceof o?t:new o((function(e){e(t)}))}(t.value).then(i,s)}l((n=n.apply(t,e||[])).next())}))},se=function(t,e){var o,n,r,a,i={label:0,sent:function t(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function l(a){if(o)throw new TypeError("Generator is already executing.");for(;i;)try{if(o=1,n&&(r=2&a[0]?n["return"]:a[0]?n["throw"]||((r=n["return"])&&r.call(n),0):n.next)&&!(r=r.call(n,a[1])).done)return r;switch(n=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(r=i.trys,(r=r.length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],n=0}finally{o=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},le=Object(h["d"])("User"),ce={id:"",user:"",name:"",password:"",description:"",group_id:"",allow_byod:i["n"].value.disable,is_pop_logout:i["n"].value.disable,many_user_login:i["n"].value.disable,allow_ip:i["n"].value.disable,ip:[""],modify_pwd:i["n"].value.disable,free_auth:i["n"].value.disable},ue=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.STATUS=i["n"],e.USER_GUIDE=s["a"],e.formData=Object(oe["a"])(ce),e.checkPassword="",e.customValidators=Object(ft["b"])(),e}return re(e,t),Object.defineProperty(e.prototype,"inputWidth",{get:function t(){return this.$isEnglish?440:480},enumerable:!1,configurable:!0}),e.prototype.created=function(){var t=this;this.recordData.id?this.checkPassword=this.recordData.password:(this.formData=Object(oe["a"])(ce),this.formData.group_id=this.groupId),this.customValidators.push({msg:_("密码不能与账号相同或者包含账号"),validator:function e(o){return!o.includes(t.formData.user)}})},Object.defineProperty(e.prototype,"BYODSuffix",{get:function t(){return this.accountSuffix?"@"+this.accountSuffix:"-"},enumerable:!1,configurable:!0}),e.prototype.treeRender=function(t,e){return e.name},e.prototype.loadGroup=function(){return ie(this,void 0,void 0,(function(){return se(this,(function(t){switch(t.label){case 0:return[4,m.getUserGroups({leaf_node:i["n"].value.enable})];case 1:return[2,t.sent()]}}))}))},e.prototype.checkPasswordValidator=function(t){var e;return t===(null===(e=this.formData)||void 0===e?void 0:e.password)||_("两次密码输入不一致")},e.prototype.verifyRepeat=function(t){var e;return!((null===(e=this.formData.ip)||void 0===e?void 0:e.filter((function(e){return e===t}))).length>=2)||_("IP重复")},e.prototype.onIpAdd=function(){this.$emit("move-center")},e.prototype.copyAccount=function(){var t=[_("认证登录账号：{0}",this.formData.user||"")];return this.formData.allow_byod===i["n"].value.enable&&t.push(_("客户端登录账号：{0}{1}",this.formData.user,this.BYODSuffix)),t.push(_("密码：{0}",this.formData.password||"")),t.join("\n")},e.prototype.onCopySuccess=function(){this.$ok(_("已复制至粘贴板{#tip#}"))},e.prototype.onCopyFail=function(){this.$fail(_("复制失败，请手动复制{#tip#}"))},e.prototype.$_formMixin_request=function(){var t=this.formData.id?"editUser":"addUser",e=this.$_formMixin_getJsonValue();return this.recordData.id&&(e.id=this.recordData.id),m[t](e,{mask:this.$parent})},ae([Object(r["c"])({type:String,default:""})],e.prototype,"groupId",void 0),ae([le.Getter("getBYODSuffix")],e.prototype,"accountSuffix",void 0),e=ae([Object(r["a"])({components:{AddItemBlock:Xt["a"],LocalTips:ee["a"],PasswordCommon:te["a"]}})],e)}(Object(r["b"])(b["a"])),pe=ue,de=Object(u["a"])(pe,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("sf-scrollbar",{ref:"scrollbar",staticClass:"modify-user"},[o("sf-form",{ref:"form",attrs:{"label-width":t.$isEnglish?116:72}},[o("div",{staticClass:"common-form-title"},[t._v("\n            "+t._s(t._("用户属性{#title#}"))+"\n        ")]),t._v(" "),o("local-tips",{staticClass:"modify-user__tips",attrs:{"default-width":"100%",type:"desc","tips-text":t._("登录账号密码用于客户端登录和账号方式认证登录，登录客户端时需在账号末尾附加后缀{0}{#tip#}",t.BYODSuffix||"-")}}),t._v(" "),o("sf-form-item",{class:t.USER_GUIDE.value.accoundPassword,attrs:{"label-text":t._("登录账号{#label#}")}},[o("sf-textfield",{attrs:{"default-disabled":!!t.recordData.user,"allow-blank":!1,vtype:"user_accound","max-length":95,"min-length":4,name:"user","default-width":t.inputWidth},model:{value:t.formData.user,callback:function(e){t.$set(t.formData,"user","string"==typeof e?e.trim():e)},expression:"formData.user"}})],1),t._v(" "),o("sf-form-item",[o("sf-fieldlabel",[o("lang",[t._v("显示名{#label#}")]),t._v(" "),o("i",{directives:[{name:"qtip",rawName:"v-qtip",value:t._("用于在此平台上显示的名称，对用户不可见{#tips#}"),expression:"_('用于在此平台上显示的名称，对用户不可见{#tips#}')"}],staticClass:"iconfont icon-xinxi12beifen5 common-form-tips-icon"})],1),t._v(" "),o("sf-textfield",{attrs:{placeholder:t._("选填"),vtype:"user_name","max-length":95,name:"name","default-width":t.inputWidth},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),t._v(" "),o("sf-form-item",{attrs:{"label-text":t._("密码{#label#}")}},[o("password-common",{attrs:{placeholder:t._("请输入8-16位密码，数字和大小写字母组成"),"default-width":t.inputWidth,"min-pwd-len":8,"max-pwd-len":16,"custom-validators":t.customValidators,name:"password"},model:{value:t.formData.password,callback:function(e){t.$set(t.formData,"password",e)},expression:"formData.password"}})],1),t._v(" "),o("sf-form-item",{attrs:{"label-text":t._("确认密码{#label#}")}},[o("sf-textfield",{attrs:{placeholder:t._("请输入8-16位密码，数字和大小写字母组成"),"default-width":t.inputWidth,type:"password",validator:t.checkPasswordValidator},model:{value:t.checkPassword,callback:function(e){t.checkPassword=e},expression:"checkPassword"}})],1),t._v(" "),o("sf-form-item",{attrs:{"label-text":t._("描述{#label#}")}},[o("sf-textfield",{attrs:{name:"description",vtype:"user_description","max-length":95,placeholder:t._("选填"),"default-width":t.inputWidth},model:{value:t.formData.description,callback:function(e){t.$set(t.formData,"description",e)},expression:"formData.description"}})],1),t._v(" "),o("sf-form-item",{attrs:{"label-text":t._("所属组{#label#}")}},[o("sf-select-tree",{attrs:{name:"group_id","allow-blank":!1,"model-key":"id","default-width":t.inputWidth},model:{value:t.formData.group_id,callback:function(e){t.$set(t.formData,"group_id",e)},expression:"formData.group_id"}},[o("sf-light-tree",{staticClass:"modify-user__tree",attrs:{"default-width":t.inputWidth,"tree-expanded-fold-icon":"","tree-fold-icon":"icon-yonghubeifen iconfont",load:t.loadGroup}},[o("sf-tree-column",{attrs:{"data-index":"name",renderer:t.treeRender}})],1)],1)],1),t._v(" "),o("div",{staticClass:"modify-user__copy"},[o("span",{directives:[{name:"copy",rawName:"v-copy",value:t.copyAccount(),expression:"copyAccount()"},{name:"copy",rawName:"v-copy:success",value:t.onCopySuccess,expression:"onCopySuccess",arg:"success"},{name:"copy",rawName:"v-copy:error",value:t.onCopyFail,expression:"onCopyFail",arg:"error"}],staticClass:"common-link__text"},[t._v("\n                "+t._s(t._("复制登录账号和密码"))+"\n            ")])]),t._v(" "),o("div",{staticClass:"common-form-title"},[t._v("\n            "+t._s(t._("高级设置{#title#}"))+"\n        ")]),t._v(" "),o("sf-form-item",[o("sf-checkbox",{attrs:{name:"allow_byod","true-value":t.STATUS.value.enable,"false-value":t.STATUS.value.disable},model:{value:t.formData.allow_byod,callback:function(e){t.$set(t.formData,"allow_byod",e)},expression:"formData.allow_byod"}},[o("lang",[t._v("允许使用客户端")]),t._v(" "),o("i",{directives:[{name:"qtip",rawName:"v-qtip",value:t._("允许后可通过账号密码登录客户端，登录客户端需在原账号末尾附加后缀“{0}”，例如“sangfor{0}”{#tips#}",t.BYODSuffix),expression:"_('允许后可通过账号密码登录客户端，登录客户端需在原账号末尾附加后缀“{0}”，例如“sangfor{0}”{#tips#}',BYODSuffix)"}],staticClass:"iconfont icon-xinxi12beifen5 common-form-tips-icon"})],1)],1),t._v(" "),o("sf-checkbox",{staticClass:"modify-user__ip-checkbox",class:t.USER_GUIDE.value.bindIP,attrs:{name:"allow_ip","true-value":t.STATUS.value.enable,"false-value":t.STATUS.value.disable},model:{value:t.formData.allow_ip,callback:function(e){t.$set(t.formData,"allow_ip",e)},expression:"formData.allow_ip"}},[o("lang",[t._v("绑定IP")]),t._v(" "),o("i",{directives:[{name:"qtip",rawName:"v-qtip",value:t._("绑定后此IP产生的流量将被识别为此用户{#tips#}"),expression:"_('绑定后此IP产生的流量将被识别为此用户{#tips#}')"}],staticClass:"iconfont icon-xinxi12beifen5 common-form-tips-icon"}),t._v(" "),o("lang",[t._v("：")])],1),t._v(" "),o("add-item-block",{ref:"addBlock",staticClass:"modify-user__add-item-block",attrs:{"template-data":"",name:"ip","max-count":5},on:{add:t.onIpAdd},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.index;return[o("sf-textfield",{attrs:{"default-disabled":t.formData.allow_ip!==t.STATUS.value.enable,"allow-blank":t.formData.allow_ip===t.STATUS.value.disable,vtype:"ipv4",validator:t.verifyRepeat,"default-width":443},model:{value:t.formData.ip[n],callback:function(e){t.$set(t.formData.ip,n,e)},expression:"formData.ip[index]"}})]}}]),model:{value:t.formData.ip,callback:function(e){t.$set(t.formData,"ip",e)},expression:"formData.ip"}}),t._v(" "),o("div",{staticClass:"common-form-content-wrap"},[o("sf-form-item",[o("sf-checkbox",{attrs:{name:"free_auth","default-disabled":t.formData.allow_ip!==t.STATUS.value.enable,"true-value":t.STATUS.value.enable,"false-value":t.STATUS.value.disable},model:{value:t.formData.free_auth,callback:function(e){t.$set(t.formData,"free_auth",e)},expression:"formData.free_auth"}},[o("lang",[t._v("免认证（直接联网，无需认证登录）")]),t._v(" "),o("i",{directives:[{name:"qtip",rawName:"v-qtip",value:t._("仅开启认证策略并绑定IP时生效。开启后仅第一次上网需认证，登录IP与绑定IP一致时，无需再次登录。{#tips#}"),expression:"_('仅开启认证策略并绑定IP时生效。开启后仅第一次上网需认证，登录IP与绑定IP一致时，无需再次登录。{#tips#}')"}],staticClass:"iconfont icon-xinxi12beifen5 common-form-tips-icon"})],1)],1)],1),t._v(" "),o("sf-form-item",[o("sf-checkbox",{attrs:{name:"is_pop_logout","true-value":t.STATUS.value.enable,"false-value":t.STATUS.value.disable},model:{value:t.formData.is_pop_logout,callback:function(e){t.$set(t.formData,"is_pop_logout",e)},expression:"formData.is_pop_logout"}},[o("lang",[t._v("允许注销")]),t._v(" "),o("i",{directives:[{name:"qtip",rawName:"v-qtip",value:t._("密码认证成功后弹出注销窗口。仅限通过硬件设备引流，且以账号认证登录的用户{#tips#}"),expression:"_('密码认证成功后弹出注销窗口。仅限通过硬件设备引流，且以账号认证登录的用户{#tips#}')"}],staticClass:"iconfont icon-xinxi12beifen5 common-form-tips-icon"})],1)],1),t._v(" "),o("sf-form-item",[o("sf-checkbox",{attrs:{name:"many_user_login","true-value":t.STATUS.value.enable,"false-value":t.STATUS.value.disable},model:{value:t.formData.many_user_login,callback:function(e){t.$set(t.formData,"many_user_login",e)},expression:"formData.many_user_login"}},[o("lang",[t._v("允许多人同时使用该账号登录")]),t._v(" "),o("i",{directives:[{name:"qtip",rawName:"v-qtip",value:t._("仅限通过硬件设备引流，且以账号认证登录的用户{#tips#}"),expression:"_('仅限通过硬件设备引流，且以账号认证登录的用户{#tips#}')"}],staticClass:"iconfont icon-xinxi12beifen5 common-form-tips-icon"})],1)],1),t._v(" "),o("div",{staticClass:"common-form-content-wrap"},[o("sf-form-item",[o("sf-checkbox",{attrs:{name:"modify_pwd","default-disabled":t.formData.many_user_login!==t.STATUS.value.enable,"true-value":t.STATUS.value.enable,"false-value":t.STATUS.value.disable},model:{value:t.formData.modify_pwd,callback:function(e){t.$set(t.formData,"modify_pwd",e)},expression:"formData.modify_pwd"}},[o("lang",[t._v("允许修改本地密码")])],1)],1)],1)],1)],1)}),[],!1,null,"3ffded41",null).exports,fe=o("./node_modules/lodash/merge.js"),me=o.n(fe),_e=o("./node_modules/@sxf/sf-vue-component/src/widgets/form/json_field.js");function ye(t){return ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ye(t)}var ve=function(){var t=function e(o,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])},t(o,n)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),he=function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"===("undefined"==typeof Reflect?"undefined":ye(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i},be=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.random=Math.random(),e}return ve(e,t),Object.defineProperty(e.prototype,"imageUrl",{get:function t(){return this.captchaUrl+"?random="+this.random},enumerable:!1,configurable:!0}),e.prototype.refreshCaptcha=function(){this.random=Math.random()},e.prototype.getValue=function(){return this.value},he([Object(r["c"])({type:String})],e.prototype,"value",void 0),he([Object(r["c"])({type:String})],e.prototype,"captchaUrl",void 0),he([Object(r["c"])({type:Boolean,default:!1})],e.prototype,"isModal",void 0),he([Object(r["c"])({type:Object,default:function t(){return{}}})],e.prototype,"options",void 0),e=he([r["a"]],e)}(Object(r["b"])(_e["a"])),ge=be,we=Object(u["a"])(ge,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",{staticClass:"verification-code"},[t.isModal?o("i",{staticClass:"iconfont icon-xinxi12beifen verification-code__warn-img common-pull-left"}):t._e(),t._v(" "),o("div",{staticClass:"verification-code__body"},[t.isModal?o("div",{staticClass:"verification-code__valid-tip-text"},[o("lang",[t._v("为了您的账号安全，请先进行以下操作再获取手机验证码！")])],1):t._e(),t._v(" "),o("sf-textfield",t._b({class:{"verification-code__input":t.isModal},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},"sf-textfield",t.options,!1)),t._v(" "),o("section",{staticClass:"verification-code__captcha-box",on:{click:t.refreshCaptcha}},[o("img",{staticClass:"verification-code__image",attrs:{src:t.imageUrl,alt:t._("点击刷新")}})])],1)])}),[],!1,null,"01d110d6",null).exports,xe=o("./node_modules/@sxf/util/task.js");function Oe(t){return Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oe(t)}var De=function(){var t=function e(o,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])},t(o,n)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Se=function(){return Se=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var r in e=arguments[o])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},Se.apply(this,arguments)},je=function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"===("undefined"==typeof Reflect?"undefined":Oe(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i},Te=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.posting=!1,e.captNum=0,e}return De(e,t),e.prototype.beforeDestroy=function(){this.stopCountDownInterval()},Object.defineProperty(e.prototype,"captText",{get:function t(){return 0===this.captNum?_("获取验证码"):this.captNum+" s"},enumerable:!1,configurable:!0}),e.prototype.fetchCaptcha=function(){var t=this;if(!t.posting&&t.validator())if(t.captchaUrl)var e=this.$_modalMixin_showModal(we,{title:_("提示"),size:"middle",props:{captchaUrl:t.captchaUrl,isModal:!0,options:{placeholder:_("请输入验证码"),defaultWidth:340,defaultHeight:40}},submit:function t(){o()}});else o();function o(){var o,n,r;t.$http({url:t.verifyUrl,method:"post",data:Se(Se({},t.params),(o={},o[t.variate]=null===(r=null===(n=null==e?void 0:e.formRoot)||void 0===n?void 0:n.getValue)||void 0===r?void 0:r.call(n),o))}).then((function(){t.startCountDown(),t.$ok(_("验证码已发送，请打开手机查看")),null==e||e.hide()}))["catch"]((function(){var o,n;null===(n=null===(o=null==e?void 0:e.formRoot)||void 0===o?void 0:o.refreshCaptcha)||void 0===n||n.call(o),t.closeCountDown()}))}},e.prototype.startCountDown=function(){this.captNum=this.interval,this.posting=!0,this.startCountDownInterval()},e.prototype.closeCountDown=function(){this.stopCountDownInterval(),this.posting=!1},e.prototype.createCountDownIntervalTask=function(){this.countDownIntervalTask=new xe["a"]({fn:this.countDown,interval:1e3,autoStart:!1})},e.prototype.countDown=function(t){if(this.captNum-=1,0===this.captNum)return this.countDownIntervalTask.stop(),void(this.posting=!1);t()},e.prototype.startCountDownInterval=function(){this.countDownIntervalTask||this.createCountDownIntervalTask(),this.countDownIntervalTask.start()},e.prototype.stopCountDownInterval=function(){var t;null===(t=this.countDownIntervalTask)||void 0===t||t.stop()},je([Object(r["c"])({type:String,default:""})],e.prototype,"value",void 0),je([Object(r["c"])({type:String,required:!0})],e.prototype,"captchaUrl",void 0),je([Object(r["c"])({type:String,required:!0})],e.prototype,"verifyUrl",void 0),je([Object(r["c"])({type:String,default:"code"})],e.prototype,"variate",void 0),je([Object(r["c"])({type:Object,default:function t(){return{}}})],e.prototype,"params",void 0),je([Object(r["c"])({type:Number,default:60})],e.prototype,"interval",void 0),je([Object(r["c"])({type:Function,default:function t(){return function(){return!0}}})],e.prototype,"validator",void 0),je([Object(r["c"])({type:Object,default:function t(){return{}}})],e.prototype,"options",void 0),e=je([Object(r["a"])({})],e)}(Object(r["b"])($["a"],_e["a"])),ke=Te,Ce=Object(u["a"])(ke,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",{staticClass:"verification-code"},[o("sf-textfield",t._b({staticClass:"verification-code__middle",model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},"sf-textfield",t.options,!1)),t._v(" "),o("section",{staticClass:"verification-code__captcha-box verification-code__middle"},[o("sf-button",{attrs:{"default-disabled":t.posting},on:{click:t.fetchCaptcha}},[t._v("\n            "+t._s(t.captText)+"\n        ")])],1)],1)}),[],!1,null,"6cd1def5",null).exports;function Pe(t){return Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pe(t)}var Ue=function(){var t=function e(o,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])},t(o,n)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),$e=function(){return $e=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var r in e=arguments[o])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},$e.apply(this,arguments)},Re=function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"===("undefined"==typeof Reflect?"undefined":Pe(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i},Ae="image",Ee="phone",Ie=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ue(e,t),Object.defineProperty(e.prototype,"getOptions",{get:function t(){return me()({placeholder:_("请输入验证码"),defaultWidth:400,defaultHeight:40},this.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"getComponent",{get:function t(){return this.type===Ee?Ce:we},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"getAllProps",{get:function t(){return $e($e({},this.$attrs),{options:this.getOptions,validator:this.validator})},enumerable:!1,configurable:!0}),e.prototype.refreshCaptcha=function(){var t,e;this.type===Ae&&(null===(e=null===(t=this.$refs)||void 0===t?void 0:t.verificationCode)||void 0===e||e.refreshCaptcha())},Re([Object(r["c"])({type:String,default:""})],e.prototype,"value",void 0),Re([Object(r["c"])({type:String,default:Ae,validator:function t(e){return e===Ae||e===Ee}})],e.prototype,"type",void 0),Re([Object(r["c"])({type:Function,default:function t(){return function(){return!0}}})],e.prototype,"validator",void 0),Re([Object(r["c"])({type:Object,default:function t(){return{}}})],e.prototype,"options",void 0),e=Re([Object(r["a"])({components:{ImageVerification:we,PhoneVerification:Ce}})],e)}(Object(r["b"])(_e["a"])),Le=Ie,Me=Object(u["a"])(Le,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",{staticClass:"verification-code"},[o(t.getComponent,t._b({ref:"verificationCode",tag:"components",attrs:{options:t.getOptions},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},"components",t.getAllProps,!1))],1)}),[],!1,null,"7ecd6340",null).exports;function Ne(t){return Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ne(t)}var Ge=function(){var t=function e(o,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])},t(o,n)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),We=function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"===("undefined"==typeof Reflect?"undefined":Ne(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i},Ve=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.captchaUrl=m.getCaptchaUrl,e.verifyUrl=m.verifyCaptchaUrl,e.code="",e}return Ge(e,t),Object.defineProperty(e.prototype,"verifyOptions",{get:function t(){return{regex:/^\d{6}$/,regexText:_("请输入{0}位数字",6),allowBlank:!1,defaultWidth:this.$isEnglish?212:224,defaultHeight:32}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"verifyParams",{get:function t(){return{phone:this.phone}},enumerable:!1,configurable:!0}),e.prototype.isValid=function(){var t;return null===(t=this.$refs.form)||void 0===t?void 0:t.isValid()},e.prototype.formatPhone=function(t){return t?(t=String(t)).replace(/1(\d{2})\d{4}(\d{4})/g,"1$1****$2"):"-"},e.prototype.getFetchCaptcha=function(){var t;return null===(t=this.$refs.fetchCaptcha)||void 0===t?void 0:t.getDomValue()},We([Object(r["c"])({type:String,default:""})],e.prototype,"phone",void 0),e=We([Object(r["a"])({components:{VerificationCode:Me,LocalTips:ee["a"]}})],e)}(r["e"]),Be=Ve,Ye=Object(u["a"])(Be,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",[o("local-tips",{staticClass:"export-user__tips",attrs:{"default-width":"100%",type:"desc","tips-text":t._("为保证您的账号安全，请进行手机短信验证。")}}),t._v(" "),o("sf-form",{ref:"form",staticClass:"export-user",attrs:{"label-width":t.$isEnglish?96:72}},[o("sf-form-item",{attrs:{"label-text":t._("手机号码{#title#}")}},[o("span",{staticClass:"export-user__phone"},[t._v("\n                "+t._s(t.formatPhone(t.phone))+"\n            ")])]),t._v(" "),o("sf-form-item",{attrs:{"label-text":t._("手机验证码{#title#}")}},[o("verification-code",{ref:"fetchCaptcha",staticClass:"export-user__fetch-captcha",attrs:{type:"phone","verify-url":t.verifyUrl,options:t.verifyOptions,params:t.verifyParams,name:"code","captcha-url":t.captchaUrl},model:{value:t.code,callback:function(e){t.code="string"==typeof e?e.trim():e},expression:"code"}})],1)],1)],1)}),[],!1,null,"208a2f8c",null).exports,Fe=o("./src/components/icon_qtip/index.vue");function qe(t){return qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qe(t)}var ze=function(){var t=function e(o,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])},t(o,n)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),He=function(){return He=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var r in e=arguments[o])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},He.apply(this,arguments)},Qe=function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"===("undefined"==typeof Reflect?"undefined":qe(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i},Je=Object(h["d"])("User"),Ke=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.STATUS=i["n"],e.inputWidth=400,e.formData={logout_switch:i["n"].value.disable,is_pop_logout:i["n"].value.disable,byod_switch:i["n"].value.disable,allow_byod:i["n"].value.disable,login_switch:i["n"].value.disable,many_user_login:i["n"].value.disable,modify_pwd:i["n"].value.disable},e}return ze(e,t),Object.defineProperty(e.prototype,"BYODSuffix",{get:function t(){return this.accountSuffix?"@"+this.accountSuffix:"-"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userNameListStr",{get:function t(){return this.recordList.map((function(t){return t.name})).join(_("、"))||"-"},enumerable:!1,configurable:!0}),e.prototype.$_formMixin_request=function(){var t=this.$_formMixin_getJsonValue();return m.bulkEditUser(He({id:this.recordList.map((function(t){return t.id}))},t),{mask:this.$parent})},Qe([Object(r["c"])({type:Array,default:function t(){return[]}})],e.prototype,"recordList",void 0),Qe([Je.Getter("getBYODSuffix")],e.prototype,"accountSuffix",void 0),e=Qe([Object(r["a"])({components:{IconQtip:Fe["a"]}})],e)}(Object(r["b"])(b["a"])),Ze=Ke,Xe=Object(u["a"])(Ze,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("sf-form",{ref:"form",staticClass:"bulk-edit",attrs:{"auto-label-width":""}},[o("div",{staticClass:"common-form-title"},[t._v("\n        "+t._s(t._("用户属性{#title#}"))+"\n    ")]),t._v(" "),o("sf-form-item",[o("sf-fieldlabel",{attrs:{"label-width":72}},[o("lang",[t._v("显示名{#label#}")])],1),t._v(" "),o("sf-textfield",{attrs:{value:t.userNameListStr,"default-disabled":!0,"default-width":t.inputWidth}})],1),t._v(" "),o("div",{staticClass:"common-form-title"},[t._v("\n        "+t._s(t._("高级设置{#title#}"))+"\n    ")]),t._v(" "),o("sf-form-item",{attrs:{"label-text":t._("批量编辑{#label#}")}},[o("sf-switch",{staticClass:"bulk-edit__switch",attrs:{name:"byod_switch","true-value":t.STATUS.value.enable,"false-value":t.STATUS.value.disable},model:{value:t.formData.byod_switch,callback:function(e){t.$set(t.formData,"byod_switch",e)},expression:"formData.byod_switch"}})],1),t._v(" "),o("sf-form-item",[o("sf-checkbox",{attrs:{name:"allow_byod","default-disabled":t.formData.byod_switch===t.STATUS.value.disable,"true-value":t.STATUS.value.enable,"false-value":t.STATUS.value.disable},model:{value:t.formData.allow_byod,callback:function(e){t.$set(t.formData,"allow_byod",e)},expression:"formData.allow_byod"}},[o("lang",[t._v("允许使用客户端")])],1),t._v(" "),o("icon-qtip",{attrs:{"tip-text":t._("允许后可通过账号密码登录客户端，登录客户端需在原账号末尾附加后缀“{0}”，例如“sangfor{0}”{#tips#}",t.BYODSuffix||"-"),"icon-cls":"icon-xinxi12beifen5 common-form-tips-icon"}})],1),t._v(" "),o("sf-form-item",{attrs:{"label-text":t._("批量编辑{#label#}")}},[o("sf-switch",{staticClass:"bulk-edit__switch",attrs:{name:"logout_switch","true-value":t.STATUS.value.enable,"false-value":t.STATUS.value.disable},model:{value:t.formData.logout_switch,callback:function(e){t.$set(t.formData,"logout_switch",e)},expression:"formData.logout_switch"}})],1),t._v(" "),o("sf-form-item",[o("sf-checkbox",{attrs:{name:"is_pop_logout","default-disabled":t.formData.logout_switch===t.STATUS.value.disable,"true-value":t.STATUS.value.enable,"false-value":t.STATUS.value.disable},model:{value:t.formData.is_pop_logout,callback:function(e){t.$set(t.formData,"is_pop_logout",e)},expression:"formData.is_pop_logout"}},[o("lang",[t._v("允许注销")])],1),t._v(" "),o("icon-qtip",{attrs:{"tip-text":t._("密码认证成功后弹出注销窗口。仅限通过硬件设备引流，且以账号认证登录的用户{#tips#}"),"icon-cls":"icon-xinxi12beifen5 common-form-tips-icon"}})],1),t._v(" "),o("sf-form-item",{attrs:{"label-text":t._("批量编辑{#label#}")}},[o("sf-switch",{staticClass:"bulk-edit__switch",attrs:{name:"login_switch","true-value":t.STATUS.value.enable,"false-value":t.STATUS.value.disable},model:{value:t.formData.login_switch,callback:function(e){t.$set(t.formData,"login_switch",e)},expression:"formData.login_switch"}})],1),t._v(" "),o("sf-form-item",[o("sf-checkbox",{attrs:{name:"many_user_login","default-disabled":t.formData.login_switch===t.STATUS.value.disable,"true-value":t.STATUS.value.enable,"false-value":t.STATUS.value.disable},model:{value:t.formData.many_user_login,callback:function(e){t.$set(t.formData,"many_user_login",e)},expression:"formData.many_user_login"}},[o("lang",[t._v("允许多人同时使用该账号登录")])],1)],1),t._v(" "),o("div",{staticClass:"common-form-content-wrap"},[o("sf-form-item",[o("sf-checkbox",{attrs:{name:"modify_pwd","default-disabled":t.formData.login_switch===t.STATUS.value.disable,"true-value":t.STATUS.value.enable,"false-value":t.STATUS.value.disable},model:{value:t.formData.modify_pwd,callback:function(e){t.$set(t.formData,"modify_pwd",e)},expression:"formData.modify_pwd"}},[o("lang",[t._v("允许修改本地密码")])],1)],1)],1)],1)}),[],!1,null,"0a207e69",null).exports,to=o("./src/util/tool.js");function eo(t){return eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eo(t)}var oo=function(){var t=function e(o,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])},t(o,n)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),no=function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"===("undefined"==typeof Reflect?"undefined":eo(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i},ro=function(t,e,o,n){return new(o||(o=Promise))((function(r,a){function i(t){try{l(n.next(t))}catch(t){a(t)}}function s(t){try{l(n["throw"](t))}catch(t){a(t)}}function l(t){t.done?r(t.value):function e(t){return t instanceof o?t:new o((function(e){e(t)}))}(t.value).then(i,s)}l((n=n.apply(t,e||[])).next())}))},ao=function(t,e){var o,n,r,a,i={label:0,sent:function t(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function l(a){if(o)throw new TypeError("Generator is already executing.");for(;i;)try{if(o=1,n&&(r=2&a[0]?n["return"]:a[0]?n["throw"]||((r=n["return"])&&r.call(n),0):n.next)&&!(r=r.call(n,a[1])).done)return r;switch(n=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(r=i.trys,(r=r.length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],n=0}finally{o=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},io=Object(h["d"])("User"),so=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.STATUS=i["n"],e.MODIFY_VALUE={add:"add",edit:"edit",append:"append"},e.USER_GUIDE=s["a"],e.userListTableVisiable=!1,e.enableBulkEdit=!1,e.userRecord={},e.userDetail=!1,e.modifyUserModal={},e.filterRemind=Object.freeze(to["c"]),e}return oo(e,t),e.prototype.mounted=function(){this.$_guideMixin_init()},e.prototype.onGroupChange=function(t){var e,o,n,r,a;this.$route.params.user?(null===(e=this.tableOptions.loadParams)||void 0===e||(e.keyword=this.$route.params.user),this.$route.params.user=""):(null===(o=this.tableOptions.loadParams)||void 0===o?void 0:o.keyword)&&(null===(n=this.$refs.tableSearchRef)||void 0===n||n.onClear()),null===(r=this.$refs.table)||void 0===r||r.clearSelections(),null===(a=this.tableOptions.loadParams)||void 0===a||(a.group_id=t.id),this.$_tableMixin_refresh()},e.prototype.$_guideMixin_appendInit=function(){this.$root.$emit("open-menu","strategy")},e.prototype.$_guideMixin_onNext=function(){var t=this,e=this.guideMixin_guideDriver.hasHighlightedElement().className;switch(this.guideMixin_guideDriver.preventMove(),!0){case e.indexOf(s["a"].value.authenticationStrategy)>-1:this.$root.$emit("open-menu","settings"),this.$nextTick((function(){t.guideMixin_guideDriver.defineSteps(t.guideMixin_steps)}));break;case e.indexOf(s["a"].value.userManage)>-1:this.$root.$emit("open-menu","");break;case e.indexOf(s["a"].value.importUser)>-1:this.modifyUser(),this.modifyUserModal.getButton()[0].$el.className+=" "+s["a"].value.confirmStrategy,this.$nextTick((function(){t.guideMixin_guideDriver.defineSteps(t.guideMixin_steps)}));break;case e.indexOf(s["a"].value.confirmStrategy)>-1:this.modifyUserModal.hide(),this.$nextTick((function(){t.$_tableMixin_resetColumnsWidth()}));break;case e.indexOf(s["a"].value.viewDetail)>-1:return this.$emit("before-open-user-detail",(function(){t.guideMixin_guideDriver.moveNext()})),void this.openUserDetail();case e.indexOf(s["a"].value.strategyDetail)>-1:this.closeUserDetail();break;case e.indexOf(s["a"].value.viewBYOD)>-1:this.guideMixin_guideCompleted=!0}this.$nextTick((function(){t.guideMixin_guideDriver.moveNext()}))},e.prototype.$_guideMixin_beforeReset=function(){var t,e;null===(e=(t=this.modifyUserModal).hide)||void 0===e||e.call(t),this.$root.$emit("open-menu","")},e.prototype.$_guideMixin_editSteps=function(t){return t.forEach((function(t){t.element.indexOf(s["a"].value.addGroup)>-1&&(t.popover.offset=-28,t.popover.margin=8),t.element.indexOf(s["a"].value.confirmStrategy)>-1&&(t.popover.position="top"),t.element.indexOf(s["a"].value.viewBYOD)>-1&&(t.popover.position="left")})),t},e.prototype.dealTableData=function(t){return 0===this.guideMixin_steps.length?t:{list:[{allow_byod:"enable",group:"group",id:759,name:"admin",status:"enable",strategy_list:[_("Web端审计策略"),_("客户端与外设审计策略")]}]}},e.prototype.getAllStrategyName=function(t){return(null==t?void 0:t.length)?t.join(_("、")):"-"},e.prototype.changeAllowBYOD=function(t){var e=this;m.changeByodStatus({id:t.id,allow_byod:t.allow_byod}).then((function(){e.$ok(_("操作成功！{#tip#}")),e.$emit("show-byod-number")}))["catch"]((function(){t.allow_byod=t.allow_byod===i["n"].value.disable?i["n"].value.enable:i["n"].value.disable}))},e.prototype.userSelectionChange=function(){this.enableBulkEdit=this.$_tableMixin_getAllSelections().length>1},e.prototype.openUserDetail=function(t){this.$emit("user-detail",!0,t)},e.prototype.closeUserDetail=function(){this.$emit("user-detail",!1)},e.prototype.deleteUser=function(t){var e=this;t||(t=this.$_tableMixin_getAllSelections().map((function(t){return t.id}))),this.$confirm({title:_("删除{#title#}"),subTitle:_("确定要删除此用户吗？"),msg:_("此用户关联策略将不再对其生效"),submit:function o(){return ro(e,void 0,void 0,(function(){return ao(this,(function(e){switch(e.label){case 0:return[4,m.deleteUsers({list:t})];case 1:return e.sent(),this.$ok(_("删除成功！{#tip#}")),this.$_tableMixin_refresh(),[2]}}))}))}})},e.prototype.importUser=function(){var t=this;this.$_tableMixin_showModal(Zt,{width:640,title:_("导入{#title#}"),submit:to["c"],submitCallback:function e(){t.$_tableMixin_refresh(),t.$emit("import-user")}})},e.prototype.exportConfirm=function(){var t=this.$_tableMixin_getAllSelections().map((function(t){return t.id}))||[];t.length?this.exportUser(t):this.$confirm({title:_("导出{#title#}"),subTitle:_("是否导出当前组及其包含的所有成员？"),msg:_("当前未选择任何组和用户"),submit:function t(){Object(to["c"])()}})},e.prototype.exportUser=function(t){this.$_tableMixin_showModal(Ye,{title:_("手机号验证{#title#}"),autoClose:!1,width:480,props:{phone:this.phone},submit:function t(){Object(to["c"])()}})},e.prototype.modifyUser=function(t){var e,o=this;void 0===t&&(t={});var n=this.$_tableMixin_showModal(de,{isScrollbar:!0,width:640,props:{recordData:t,groupId:null===(e=this.tableOptions.loadParams)||void 0===e?void 0:e.group_id},title:t.id?_("编辑{#title#}"):_("新增{#title#}"),submit:to["c"],submitCallback:function e(){t&&o.$emit("user-edited"),o.$_tableMixin_refresh()}});this.modifyUserModal=n},e.prototype.enableUserStatus=function(t){this.changeUserStatus(i["n"].value.disable,t)},e.prototype.disableUserStatus=function(t){this.changeUserStatus(i["n"].value.enable,t)},e.prototype.changeUserStatus=function(t,e){var o=this;e.length&&(t=t===this.STATUS.value.enable?this.STATUS.value.disable:this.STATUS.value.enable,m.changeUsersStatus({list:e.map((function(t){return t.id})),status:t}).then((function(){o.$ok(_("操作成功{#tip#}")),o.$_tableMixin_refresh()})))},e.prototype.bulkEditUser=function(){this.$_tableMixin_showModal(Xe,{isScrollbar:!0,width:640,props:{recordList:this.$_tableMixin_getAllSelections()},title:_("批量编辑{#title#}"),submit:to["c"]})},no([Object(y["a"])((function(t){return{loadParams:{keyword:"",group_id:""},idProperty:"id",selectionHide:!1,autoLoad:!1,sortFieldKey:"sort_field",sortDirectionKey:"sort_direction",loadFn:function e(o){return ro(void 0,void 0,void 0,(function(){var e,n;return ao(this,(function(r){switch(r.label){case 0:return t.$emit("show-byod-number"),o.group_id?[4,m.getUserList(o)]:[2];case 1:return e=r.sent(),e=t.dealTableData(e),t.userListTableVisiable=!!(null===(n=null==e?void 0:e.list)||void 0===n?void 0:n.length)||""!==o.keyword,[2,e]}}))}))}}}))],e.prototype,"tableOptions",void 0),no([io.Getter("getPhone")],e.prototype,"phone",void 0),e=no([Object(r["a"])({components:{ListDetailLayout:p,ModifyGroup:U,UserDetail:Nt,ModifyUser:de,ExprotUser:Ye,BulkEdit:Xe,IconQtip:Fe["a"]}})],e)}(Object(r["b"])(a["a"],v["a"])),lo=so,co=Object(u["a"])(lo,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",{staticClass:"user-list"},[o("sf-grid",{directives:[{name:"show",rawName:"v-show",value:t.userListTableVisiable,expression:"userListTableVisiable"}]},[o("sf-toolbar",{ref:"toolbar"},[o("sf-button",{class:t.USER_GUIDE.value.addGroup,attrs:{"icon-cls":"icon-comp-add"},on:{click:function(e){return t.modifyUser()}}},[o("lang",[t._v("新增{#btn#}")])],1),t._v(" "),o("sf-button",{attrs:{"icon-cls":"icon-gongjulan-shanchu","action-name":"delete"},on:{click:t.filterRemind}},[o("lang",[t._v("删除{#btn#}")])],1),t._v(" "),o("sf-button",{attrs:{"default-disabled":!t.enableBulkEdit,"icon-cls":"icon-bianjibeifen"},on:{click:t.bulkEditUser}},[o("lang",[t._v("批量编辑{#btn#}")])],1),t._v(" "),o("sf-button",{class:t.USER_GUIDE.value.importUser,attrs:{"icon-cls":"icon-gongjulan-daoru"},on:{click:t.importUser}},[o("lang",[t._v("导入{#btn#}")])],1),t._v(" "),o("sf-button",{attrs:{"icon-cls":"icon-daochu"},on:{click:t.exportConfirm}},[o("lang",[t._v("导出{#btn#}")])],1),t._v(" "),o("ss-vertical-sep",{attrs:{spacing:4}}),t._v(" "),o("sf-button",{attrs:{"icon-cls":"icon-enable","action-name":"enable"},on:{click:t.filterRemind}},[o("lang",[t._v("启用{#btn#}")])],1),t._v(" "),o("sf-button",{attrs:{"icon-cls":"icon-disable","action-name":"disable"},on:{click:t.filterRemind}},[o("lang",[t._v("禁用{#btn#}")])],1),t._v(" "),o("sf-searchfield",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"recordIdRef",attrs:{"param-key":"group_id"},model:{value:t.tableOptions.loadParams.group_id,callback:function(e){t.$set(t.tableOptions.loadParams,"group_id",e)},expression:"tableOptions.loadParams.group_id"}}),t._v(" "),o("template",{slot:"right"},[o("sf-searchfield",{ref:"tableSearchRef",attrs:{"param-key":"keyword",placeholder:t._("请输入名称、所属组")},on:{trigger:t.filterRemind},model:{value:t.tableOptions.loadParams.keyword,callback:function(e){t.$set(t.tableOptions.loadParams,"keyword",e)},expression:"tableOptions.loadParams.keyword"}})],1)],2),t._v(" "),o("sf-table",{directives:[{name:"set-height",rawName:"v-set-height"}],ref:"table",attrs:{"default-height":100,options:t.tableOptions},on:{selectionchange:t.userSelectionChange},scopedSlots:t._u([{key:"allow_byod",fn:function(e){var n=e.record;return[o("sf-switch",{class:t.USER_GUIDE.value.editBYOD,attrs:{"true-value":t.STATUS.value.enable,"false-value":t.STATUS.value.disable,"default-disabled":n.status===t.STATUS.value.disable},on:{change:t.filterRemind},model:{value:n.allow_byod,callback:function(e){t.$set(n,"allow_byod",e)},expression:"record.allow_byod"}})]}}])},[o("sf-table-column",{attrs:{type:"index","default-width":60,title:t._("序号")}}),t._v(" "),o("sf-table-column",{attrs:{"data-index":"name",title:t._("登录账号{#header#}")},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.record;return[n.name?o("span",{directives:[{name:"title",rawName:"v-title"}],staticClass:"common-link__text",class:t.USER_GUIDE.value.viewDetail,on:{click:function(e){return t.openUserDetail(n)}}},[t._v("\n                        "+t._s(n.name)+"\n                    ")]):o("span",[t._v("\n                        -\n                    ")])]}}])}),t._v(" "),o("sf-table-column",{attrs:{"data-index":"group_name","sort-able":!0,title:t._("所属组{#header#}")}}),t._v(" "),o("sf-table-column",{attrs:{title:t._("策略{#header#}")},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.record;return o("span",{directives:[{name:"title",rawName:"v-title"}]},[t._v("\n                    "+t._s(t.getAllStrategyName(n.strategy_name))+"\n                ")])}}])}),t._v(" "),o("sf-table-column",{attrs:{"data-index":"allow_byod"}},[[o("lang",[t._v("允许使用客户端{#header#}")]),t._v(" "),o("icon-qtip",{staticClass:"common-form-tips-icon",attrs:{"tip-text":t._("客户端：适用于移动PC的审计与管控的客户端软件；对于已接入的客户端用户，关闭客户端使用权限后用户将自动注销，请谨慎操作{#tips#}")}})]],2),t._v(" "),t._v(" "),o("sf-table-column",{attrs:{title:t._("启/禁用{#header#}")},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.record;return[n.status?o("i",{staticClass:"iconfont",class:[t.STATUS.icon[n.status],"common-status-icon--"+n.status],on:{click:t.filterRemind}}):o("span",[t._v("\n                        -\n                    ")])]}}])}),t._v(" "),o("sf-table-column",{attrs:{title:t._("操作{#header#}")}},[o("span",{staticClass:"common-link__text",on:{click:t.filterRemind}},[o("lang",[t._v("删除")])],1)])],1)],1),t._v(" "),o("ss-empty-box",{directives:[{name:"show",rawName:"v-show",value:!t.userListTableVisiable,expression:"!userListTableVisiable"},{name:"set-height",rawName:"v-set-height"}],staticClass:"user-manage__empty-box"},[o("sf-button-primary",{attrs:{"icon-cls":"icon-chuangjian"},on:{click:function(e){return t.modifyUser()}}},[o("lang",[t._v("新增成员{#btn#}")])],1),t._v(" "),o("div",{staticClass:"user-manage__import-btn"},[o("span",{staticClass:"common-link__text",on:{click:t.importUser}},[t._v("\n                "+t._s(t._("批量导入{#btn#}"))+"\n            ")])])],1)],1)}),[],!1,null,"40abfb71",null).exports;function uo(t){return uo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uo(t)}var po=function(){var t=function e(o,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])},t(o,n)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),fo=function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"===("undefined"==typeof Reflect?"undefined":uo(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i},mo=function(t,e,o,n){return new(o||(o=Promise))((function(r,a){function i(t){try{l(n.next(t))}catch(t){a(t)}}function s(t){try{l(n["throw"](t))}catch(t){a(t)}}function l(t){t.done?r(t.value):function e(t){return t instanceof o?t:new o((function(e){e(t)}))}(t.value).then(i,s)}l((n=n.apply(t,e||[])).next())}))},_o=function(t,e){var o,n,r,a,i={label:0,sent:function t(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function l(a){if(o)throw new TypeError("Generator is already executing.");for(;i;)try{if(o=1,n&&(r=2&a[0]?n["return"]:a[0]?n["throw"]||((r=n["return"])&&r.call(n),0):n.next)&&!(r=r.call(n,a[1])).done)return r;switch(n=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(r=i.trys,(r=r.length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],n=0}finally{o=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},yo={add:"add",edit:"edit",append:"append"},vo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.STATUS=i["n"],e.USER_GUIDE=s["a"],e.MODIFY_VALUE=yo,e.MAX_GROUP_DEPTH=3,e.filterRemind=Object.freeze(to["c"]),e.treeOptions={moreOperate:!0},e.selectedGroupRecord={name:"",id:"",ref_group_id:""},e.moreOptionsRecord={name:"",id:"",ref_group_id:"",depth:0},e.usedCount="",e.buyCount="",e.userRecord={name:"",id:"",ref_group_id:""},e.userDetailVisiable=!1,e.userGroupData=[],e}return po(e,t),Object.defineProperty(e.prototype,"tableTitle",{get:function t(){var e=_("用户列表{#title#}"),o=this.selectedGroupRecord.name;return o?e+_("（{0}）",o):e},enumerable:!1,configurable:!0}),e.prototype.mounted=function(){this.firstLoadUserGroup()},e.prototype.firstLoadUserGroup=function(){var t,e;return mo(this,void 0,void 0,(function(){return _o(this,(function(o){switch(o.label){case 0:return[4,this.loadGroup()];case 1:return o.sent(),null===(t=this.$refs.groupTreeRef)||void 0===t||t.setSelections(null===(e=this.$refs.groupTreeRef)||void 0===e?void 0:e.getAllData()),[2]}}))}))},e.prototype.initBYODNumber=function(){return mo(this,void 0,void 0,(function(){var t;return _o(this,(function(e){switch(e.label){case 0:return[4,m.getByodNumber()];case 1:return t=e.sent(),this.usedCount=t.used,this.buyCount=t.total,[2]}}))}))},e.prototype.loadGroup=function(){return mo(this,void 0,void 0,(function(){var t;return _o(this,(function(e){switch(e.label){case 0:return[4,m.getUserGroups({leaf_node:i["n"].value.enable})];case 1:return t=e.sent(),this.userGroupData=[t],[2]}}))}))},e.prototype.afterDeleteUserGroup=function(){var t,e,o,n=this,r=null===(t=this.$refs.groupTreeRef)||void 0===t?void 0:t.getAllData(),a=!1;Object(l["a"])(r,(function(t){var e;return t.id!==(null===(e=n.selectedGroupRecord)||void 0===e?void 0:e.id)||(a=!0,!1)})),a?null===(o=this.$refs.userTableRef)||void 0===o||o.$_tableMixin_refresh():null===(e=this.$refs.groupTreeRef)||void 0===e||e.setSelections(r)},e.prototype.groupSelect=function(t){var e;this.selectedGroupRecord=t,null===(e=this.$refs.userTableRef)||void 0===e||e.onGroupChange(t)},e.prototype.showMoreMenu=function(t,e){var o,n=this;null===(o=this.$refs.operateMore)||void 0===o||o.hide(),this.moreOptionsRecord=t,this.$nextTick((function(){var t,o;null===(t=n.$refs.operateMore)||void 0===t||t.alignTo(e.target),null===(o=n.$refs.operateMore)||void 0===o||o.show()}))},e.prototype.modifyGroup=function(t){var e,o=this;void 0===t&&(t=this.MODIFY_VALUE.add);var n=this.moreOptionsRecord,r=((e={})[this.MODIFY_VALUE.edit]=_("编辑{#title#}"),e[this.MODIFY_VALUE.add]=_("新增分组{#title#}"),e[this.MODIFY_VALUE.append]=_("新增分组{#title#}"),e);this.$_tableMixin_showModal(U,{isScrollbar:!0,width:480,title:r[t],props:{record:n,type:t},submit:to["c"],submitCallback:function t(){o.loadGroup()}})},e.prototype.toggleUserDetail=function(t,e){e&&(this.userRecord=e),this.userDetailVisiable=t},e.prototype.reloadDetail=function(){var t;(null===(t=this.$refs)||void 0===t?void 0:t.userDetailRef).getUserDetail()},e.prototype.bindUserDetailDrawerEvent=function(t){var e;null===(e=this.$refs.userDetailDrawerRef)||void 0===e||e.$on("opened",t)},e.prototype.modifyUser=function(){var t;null===(t=this.$refs.userTableRef)||void 0===t||t.modifyUser(this.$refs.userDetailRef.getDetail())},e.prototype.deleteGroup=function(){var t=this;this.$confirm({title:_("删除{#title#}"),subTitle:_("确定要删除分组吗？"),msg:_("删除后所有设备归属此分组父组"),submit:function e(){return mo(t,void 0,void 0,(function(){return _o(this,(function(t){switch(t.label){case 0:return[4,m.deleteGroup({id:this.moreOptionsRecord.id})];case 1:return t.sent(),this.$ok(_("删除成功！{#tip#}")),[4,this.loadGroup()];case 2:return t.sent(),this.afterDeleteUserGroup(),[2]}}))}))}})},e=fo([Object(r["a"])({components:{ListDetailLayout:p,UserTable:co,ModifyGroup:U,UserDetail:Nt}})],e)}(Object(r["b"])(a["a"])),ho=vo,bo=Object(u["a"])(ho,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{directives:[{name:"set-height",rawName:"v-set-height"}]},[o("div",{staticClass:"user-manage__title"},[o("lang",{staticClass:"user-manage__title-text"},[t._v("用户管理")]),t._v(" "),o("i",{directives:[{name:"qtip",rawName:"v-qtip",value:t._("建立组织架构和对应用户，便于更清晰的管理{#tip#}"),expression:"_('建立组织架构和对应用户，便于更清晰的管理{#tip#}')"}],staticClass:"iconfont icon-xinxi12beifen5 user-manage__title-tips",attrs:{qoffset:-12}}),t._v(" "),o("span",{staticClass:"user-manage__title-right",class:t.USER_GUIDE.value.viewBYOD},[t._v("\n            "+t._s(t._("使用/购买客户端账号数：{0}/{1}",t.usedCount|t.empty,t.buyCount|t.empty))+"\n        ")])],1),t._v(" "),o("list-detail-layout",{directives:[{name:"set-height",rawName:"v-set-height"}],attrs:{title:t._("组织结构"),"show-search":!1,"left-width":"208"}},[o("sf-light-tree",{directives:[{name:"set-height",rawName:"v-set-height"}],ref:"groupTreeRef",staticClass:"user-manage__tree",attrs:{slot:"listContent","show-expand":!1,"tree-fold-icon":"icon-yonghubeifen iconfont",placeholder:t._("请输入分组名称"),"tree-expanded-fold-icon":"","default-width":190,"default-height":"1","tree-table-options":t.treeOptions,data:t.userGroupData},on:{"click-more":t.showMoreMenu,"select-node":t.groupSelect},slot:"listContent"}),t._v(" "),o("i",{staticClass:"icon-juxing iconfont common-pointer",class:t.USER_GUIDE.value.addGroup,attrs:{slot:"titleRight"},on:{click:function(e){return t.modifyGroup(t.MODIFY_VALUE.add)}},slot:"titleRight"}),t._v(" "),o("div",{staticClass:"user-manage__table"},[o("div",{staticClass:"user-manage__table-title-bar"},[t._v("\n                "+t._s(t._f("empty")(t.tableTitle))+"\n            ")]),t._v(" "),o("user-table",{directives:[{name:"set-height",rawName:"v-set-height"}],ref:"userTableRef",on:{"user-detail":t.toggleUserDetail,"before-open-user-detail":t.bindUserDetailDrawerEvent,"show-byod-number":t.initBYODNumber,"import-user":t.loadGroup,"user-edited":t.reloadDetail}})],1)],1),t._v(" "),o("sf-drawer",{ref:"userDetailDrawerRef",attrs:{title:t._("用户详情{#title#}"),visible:t.userDetailVisiable,"destroy-on-close":!0,direction:"rtl",size:"640px","show-close":!1},on:{"update:visible":function(e){t.userDetailVisiable=e}}},[o("user-detail",{ref:"userDetailRef",attrs:{record:t.userRecord}}),t._v(" "),o("template",{slot:"footer"},[o("sf-button-primary",{on:{click:t.modifyUser}},[o("lang",[t._v("编辑{#btn#}")])],1)],1)],2),t._v(" "),o("sf-menu",{ref:"operateMore",attrs:{anchor:"bottom-end"}},[t.moreOptionsRecord.depth<t.MAX_GROUP_DEPTH?o("sf-menu-item",{attrs:{"icon-cls":"icon-gongjulan-xinzeng"},on:{click:function(e){return t.modifyGroup(t.MODIFY_VALUE.append)}}},[o("lang",[t._v("新增分组")])],1):t._e(),t._v(" "),o("sf-menu-item",{attrs:{"icon-cls":"icon-bianjibeifen"},on:{click:function(e){return t.modifyGroup(t.MODIFY_VALUE.edit)}}},[o("lang",[t._v("编辑")])],1),t._v(" "),o("sf-menu-item",{attrs:{"icon-cls":"icon-gongjulan-shanchu"},on:{click:t.filterRemind}},[o("lang",[t._v("删除")])],1)],1)],1)}),[],!1,null,"d798f0f8",null);e["default"]=bo.exports},"./src/home/mod_strategy/drainage/byod/detail/index.vue":function(t,e,o){"use strict";var n=o("./node_modules/vue-property-decorator/lib/vue-property-decorator.js"),r=o("./src/components/detail_drawer/title_bar.vue"),a=o("./src/components/select_user/index.vue"),i=o("./src/api/swagger/mods/drainageByod.mod.ts"),s=o("./src/const/common.ts"),l=o("./src/const/mod_strategy.ts"),c=o("./node_modules/@sxf/util/walk.js");function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(t)}var p=function(){var t=function e(o,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])},t(o,n)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),d=function(){return d=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var r in e=arguments[o])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},d.apply(this,arguments)},f=function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"===("undefined"==typeof Reflect?"undefined":u(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i},m=function(t,e,o,n){return new(o||(o=Promise))((function(r,a){function i(t){try{l(n.next(t))}catch(t){a(t)}}function s(t){try{l(n["throw"](t))}catch(t){a(t)}}function l(t){t.done?r(t.value):function e(t){return t instanceof o?t:new o((function(e){e(t)}))}(t.value).then(i,s)}l((n=n.apply(t,e||[])).next())}))},y=function(t,e){var o,n,r,a,i={label:0,sent:function t(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function l(a){if(o)throw new TypeError("Generator is already executing.");for(;i;)try{if(o=1,n&&(r=2&a[0]?n["return"]:a[0]?n["throw"]||((r=n["return"])&&r.call(n),0):n.next)&&!(r=r.call(n,a[1])).done)return r;switch(n=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(r=i.trys,(r=r.length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],n=0}finally{o=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.detail={name:"",description:"",status:"",creator:"",priority:"",dest_ip:{action:"",ip_addr:[],switch:""},domain:{action:"",list:[],switch:""},users_id:[],time_name:"",process:{action:"",name:[],switch:""}},e.userTree=[],e}return p(e,t),Object.defineProperty(e.prototype,"textRenderOptions",{get:function t(){return{labelWidth:this.$isEnglish?112:70,lineHeight:24}},enumerable:!1,configurable:!0}),e.prototype.onWatchID=function(){this.loadDetail()},e.prototype.mounted=function(){var t=this;i["a"].userList().then((function(e){var o=[e];Object(c["a"])(o,(function(t){t.disabled=!0})),t.userTree=o}))},Object.defineProperty(e.prototype,"basicInfo",{get:function t(){var e=this.detail;return[d({labelText:_("策略名称{#label#}"),value:e.name},this.textRenderOptions),d({labelText:_("描述信息{#label#}"),value:e.description},this.textRenderOptions),d({labelText:_("启/禁用{#label#}"),value:s["n"].text[e.status]},this.textRenderOptions),d({labelText:_("优先级{#label#}"),value:e.priority},this.textRenderOptions),d({labelText:_("生效时间{#label#}"),value:e.time_name},this.textRenderOptions),d({labelText:_("创建人{#label#}"),value:e.creator},this.textRenderOptions)]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"getIP",{get:function t(){var e,o,n=null!==(e=this.detail.dest_ip)&&void 0!==e?e:{};return{show:n["switch"]===s["n"].value.enable,ip:null===(o=null==n?void 0:n.ip_addr)||void 0===o?void 0:o.join(_("、")),action:l["I"].text[n.action]}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"getDomain",{get:function t(){var e,o,n=null!==(e=this.detail.domain)&&void 0!==e?e:{};return{show:n["switch"]===s["n"].value.enable,domain:null===(o=null==n?void 0:n.list)||void 0===o?void 0:o.join(_("、")),action:l["I"].text[n.action]}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"getProcess",{get:function t(){var e,o,n=null!==(e=this.detail.process)&&void 0!==e?e:{};return{show:n["switch"]===s["n"].value.enable,process:null===(o=null==n?void 0:n.name)||void 0===o?void 0:o.join(_("、")),action:l["I"].text[n.action]}},enumerable:!1,configurable:!0}),e.prototype.loadDetail=function(){return m(this,void 0,void 0,(function(){var t,e=this;return y(this,(function(o){switch(o.label){case 0:return this.record.id?(this.$emit("update:loading",!0),t=this,[4,i["a"].detail({id:this.record.id},{mask:this.$parent})["finally"]((function(){e.$emit("update:loading",!1)}))]):[2];case 1:return t.detail=o.sent(),[2]}}))}))},e.prototype.getDetail=function(){return this.detail},f([Object(n["c"])({type:Object,default:function t(){return{}}})],e.prototype,"record",void 0),f([Object(n["c"])({type:Boolean})],e.prototype,"loading",void 0),f([Object(n["f"])("record.id",{immediate:!0})],e.prototype,"onWatchID",null),e=f([Object(n["a"])({components:{TitleBar:r["a"],UserSelect:a["a"]}})],e)}(n["e"]),h=v,b=o("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),g=Object(b["a"])(h,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",{staticClass:"strategy-detail"},[o("lang",{staticClass:"common-form-title"},[t._v("基本信息{#title#}")]),t._v(" "),t._l(t.basicInfo,(function(e,n){return o("ss-text-render",t._b({key:n,staticClass:"detail-item"},"ss-text-render",e,!1))})),t._v(" "),o("lang",{staticClass:"common-form-title"},[t._v("策略设置{#title#}")]),t._v(" "),o("ss-text-render",t._b({staticClass:"detail-item",attrs:{"label-text":t._("设置对象{#label#}")}},"ss-text-render",t.textRenderOptions,!1),[o("div",{staticClass:"setting-object"},[t.getIP.show?[o("lang",{staticClass:"detail-item--title"},[t._v("目的IP{#title#}")]),t._v(" "),o("div",{staticClass:"common-form-content-wrap"},[o("ss-text-render",t._b({attrs:{"label-text":t._("IP地址{#label#}"),value:t.getIP.ip}},"ss-text-render",t.textRenderOptions,!1)),t._v(" "),o("ss-text-render",t._b({attrs:{"label-text":t._("动作{#label#}"),value:t.getIP.action}},"ss-text-render",t.textRenderOptions,!1))],1)]:t._e(),t._v(" "),t.getDomain.show?[o("lang",{staticClass:"detail-item--title"},[t._v("域名{#title#}")]),t._v(" "),o("div",{staticClass:"common-form-content-wrap"},[o("ss-text-render",t._b({attrs:{"label-text":t._("域名地址{#label#}"),value:t.getDomain.domain}},"ss-text-render",t.textRenderOptions,!1)),t._v(" "),o("ss-text-render",t._b({attrs:{"label-text":t._("动作{#label#}"),value:t.getDomain.action}},"ss-text-render",t.textRenderOptions,!1))],1)]:t._e(),t._v(" "),t.getProcess.show?[o("lang",{staticClass:"detail-item--title"},[t._v("进程{#title#}")]),t._v(" "),o("div",{staticClass:"common-form-content-wrap"},[o("ss-text-render",t._b({attrs:{"label-text":t._("进程{#label#}"),value:t.getProcess.process}},"ss-text-render",t.textRenderOptions,!1)),t._v(" "),o("ss-text-render",t._b({attrs:{"label-text":t._("动作{#label#}"),value:t.getProcess.action}},"ss-text-render",t.textRenderOptions,!1))],1)]:t._e()],2)]),t._v(" "),o("lang",{staticClass:"common-form-title"},[t._v("适用范围{#title#}")]),t._v(" "),o("ss-text-render",t._b({staticClass:"detail-item",attrs:{"label-text":t._("适用用户")}},"ss-text-render",t.textRenderOptions,!1),[o("user-select",{attrs:{"default-width":400,readonly:"","tree-data":t.userTree},model:{value:t.detail.users_id,callback:function(e){t.$set(t.detail,"users_id",e)},expression:"detail.users_id"}})],1)],2)}),[],!1,null,"3f6345b5",null);e["a"]=g.exports},"./src/home/mod_strategy/drainage/byod/modal/modify.vue":function(t,e,o){"use strict";var n=o("./node_modules/vue-property-decorator/lib/vue-property-decorator.js"),r=o("./src/home/mod_common/mixin/form.ts"),a=o("./src/const/common.ts"),i=o("./src/const/mod_strategy.ts"),s=o("./node_modules/lodash-es/merge.js"),l=o("./src/api/swagger/mods/drainageByod.mod.ts"),c=o("./src/components/check_relevance/index.vue"),u=o("./src/components/form/form_base_info/index.vue"),p=o("./src/components/select_user/index.vue"),d=o("./node_modules/@sxf/sf-vue-component/src/widgets/form/json_field.js"),f=o("./src/components/modal_field/index.vue"),m=o("./node_modules/lodash-es/cloneDeep.js"),y=o("./src/const/mod_settings.ts");function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(t)}var h=function(){var t=function e(o,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])},t(o,n)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),b=function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"===("undefined"==typeof Reflect?"undefined":v(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i},g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.LIB_TYPE=y["b"],e.processList=[],e.transferOptions={idProperty:"id",height:400,left:{width:350},right:{width:240}},e.leftTableOptions={selectionHide:!1,data:[],loadParams:{keyword:""},pagination:{pageSize:10,navLength:3,layout:["pager"]}},e}return h(e,t),e.prototype.onWatchValue=function(t){t.toString()!==this.processList.toString()&&(this.processList=Object(m["a"])(t))},e.prototype.onWatchList=function(t){var e=this;this.$nextTick((function(){var o,n;null===(n=null===(o=e.$refs.transfer)||void 0===o?void 0:o.loadData)||void 0===n||n.call(o,t)}))},e.prototype.onWatchProcessList=function(t){this.$emit("input",t)},b([Object(n["c"])({type:Array,default:function t(){return[]}})],e.prototype,"list",void 0),b([Object(n["c"])({type:Array,default:function t(){return[]}})],e.prototype,"value",void 0),b([Object(n["f"])("value",{immediate:!0})],e.prototype,"onWatchValue",null),b([Object(n["f"])("list",{immediate:!0})],e.prototype,"onWatchList",null),b([Object(n["f"])("processList")],e.prototype,"onWatchProcessList",null),e=b([n["a"]],e)}(n["e"]),w=g,x=o("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),O=Object(x["a"])(w,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",[o("sf-transfer",{ref:"transfer",attrs:{options:t.transferOptions},model:{value:t.processList,callback:function(e){t.processList=e},expression:"processList"}},[o("sf-transfer-table",{attrs:{slot:"left",options:t.leftTableOptions},slot:"left"},[o("sf-table-column",{attrs:{"data-index":"name"}},[o("lang",[t._v("进程名称")])],1),t._v(" "),o("sf-table-column",{attrs:{"data-index":"processes",title:t._("进程")},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.record;return o("div",{directives:[{name:"title",rawName:"v-title"}],staticClass:"common-ellipsis"},[t._v("\n                    "+t._s(t._f("empty")(n.processes.join(t._("，"))))+"\n                ")])}}])}),t._v(" "),o("sf-table-column",{attrs:{"data-index":"type",title:t._("类型")},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.record;return[t._v("\n                    "+t._s(t._f("empty")(t.LIB_TYPE.text[o.type]))+"\n                ")]}}])})],1),t._v(" "),o("sf-transfer-table",{attrs:{slot:"right","is-target":""},slot:"right"},[o("sf-table-column",{attrs:{"data-index":"processes",title:t._("进程")},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.record;return o("div",{directives:[{name:"title",rawName:"v-title"}],staticClass:"common-ellipsis"},[t._v("\n                    "+t._s(t._f("empty")(n.processes.join(t._("，"))))+"\n                ")])}}])})],1)],1)],1)}),[],!1,null,"1f6f230a",null).exports;function D(t){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D(t)}var S=function(){var t=function e(o,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])},t(o,n)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),j=function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"===("undefined"==typeof Reflect?"undefined":D(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i},T=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.modalOptions={title:_("进程{#title#}"),width:640,autoDestroy:!0},e.modalFieldValue=[],e.processList=[],e}return S(e,t),e.prototype.mounted=function(){this.initText()},e.prototype.onHandlerValue=function(t){this.modalFieldValue=this.value,this.processList=this.value,this.$emit("input",t),this.initText()},e.prototype.onWatchList=function(){this.initText()},e.prototype.setListValue=function(){this.processList=this.value},e.prototype.setProcessList=function(){this.modalFieldValue=this.processList,this.value=this.processList},e.prototype.getTextByData=function(){var t,e=this;return(null===(t=this.list)||void 0===t?void 0:t.filter((function(t){return e.value.includes(t.id)}))).map((function(t){return t.name})).join(_("，"))},e.prototype.initText=function(){var t,e;null===(e=null===(t=this.$refs.modalfield)||void 0===t?void 0:t.setInputText)||void 0===e||e.call(t,this.getTextByData())},j([Object(n["c"])({type:Array,default:function t(){return[]}})],e.prototype,"list",void 0),j([Object(n["c"])({type:Array,default:function t(){return[]}})],e.prototype,"value",void 0),j([Object(n["f"])("value",{immediate:!0})],e.prototype,"onHandlerValue",null),j([Object(n["f"])("list")],e.prototype,"onWatchList",null),e=j([Object(n["a"])({mixins:[d["a"]],components:{ModalField:f["a"],ProcessList:O}})],e)}(n["e"]),k=T,C=Object(x["a"])(k,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",{staticClass:"process-select"},[o("modal-field",t._b({ref:"modalfield",attrs:{value:t.modalFieldValue,"modal-options":t.modalOptions,renderer:t.getTextByData},on:{cancel:t.setListValue,submit:t.setProcessList}},"modal-field",t.$attrs,!1),[o("process-list",{attrs:{list:t.list},model:{value:t.processList,callback:function(e){t.processList=e},expression:"processList"}})],1)],1)}),[],!1,null,"d62d4e0c",null).exports,P=o("./src/components/textarea/index.vue"),U=o("./src/home/mod_common/util/tool.ts");function $(t){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$(t)}var R=function(){var t=function e(o,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])},t(o,n)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),A=function(){return A=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var r in e=arguments[o])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},A.apply(this,arguments)},E=function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"===("undefined"==typeof Reflect?"undefined":$(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i},I=function(t,e,o,n){return new(o||(o=Promise))((function(r,a){function i(t){try{l(n.next(t))}catch(t){a(t)}}function s(t){try{l(n["throw"](t))}catch(t){a(t)}}function l(t){t.done?r(t.value):function e(t){return t instanceof o?t:new o((function(e){e(t)}))}(t.value).then(i,s)}l((n=n.apply(t,e||[])).next())}))},L=function(t,e){var o,n,r,a,i={label:0,sent:function t(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function l(a){if(o)throw new TypeError("Generator is already executing.");for(;i;)try{if(o=1,n&&(r=2&a[0]?n["return"]:a[0]?n["throw"]||((r=n["return"])&&r.call(n),0):n.next)&&!(r=r.call(n,a[1])).done)return r;switch(n=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(r=i.trys,(r=r.length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],n=0}finally{o=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},M=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.labelWidth=70,e.inputWidth=486,e.STATUS=a["n"],e.STRATEGY_ACTION=i["I"],e.formData={id:"",description:"",dest_ip:{action:i["I"].value.drainage,ip_addr:[""],switch:a["n"].value.disable},domain:{action:i["I"].value.drainage,list:[""],switch:a["n"].value.disable},users_id:[],name:"",priority:0,process:{action:i["I"].value.drainage,list:[],switch:a["n"].value.disable},status:a["n"].value.enable,time_id:""},e.timeList=[],e.priority=0,e.processList=[],e.userTree=[],e.ipAddrTip=[_("请输入IP地址或IP范围，不支持IPv6，一行一个，例如："),"192.168.1.1","192.168.1.1-192.168.1.10"].join("\n"),e.domainAddrTip=[_("请输入域名，一行一个，例如："),"www.baidu.com"].join("\n"),e}return R(e,t),e.prototype.created=function(){this.labelWidth=this.$isEnglish?90:70,this.inputWidth=this.$isEnglish?466:486},e.prototype.mounted=function(){return I(this,void 0,void 0,(function(){return L(this,(function(t){switch(t.label){case 0:return[4,this.initForm()];case 1:return t.sent(),[2]}}))}))},Object.defineProperty(e.prototype,"priorityList",{get:function t(){return new Array(this.priority).fill(0).map((function(t,e){return{value:e+1,label:e+1}}))},enumerable:!1,configurable:!0}),e.prototype.initForm=function(){var t=this,e=this;e.isEdit&&(this.formData=Object(s["a"])({},e.recordData)),this.$mask(),Promise.all([l["a"].timeList().then((function(t){var o,n,r;e.timeList=(null===(o=null==t?void 0:t.list)||void 0===o?void 0:o.map((function(t){return A(A({},t),{title:Object(U["c"])(t).join("\n")})})))||[],e.formData.time_id=null===(r=null===(n=t.list)||void 0===n?void 0:n[0])||void 0===r?void 0:r.id})),l["a"].getPriority().then((function(t){var o;e.priority=null!==(o=t.priority)&&void 0!==o?o:0})),l["a"].processList({limit:0,offset:0}).then((function(t){var o;e.processList=null!==(o=t.list)&&void 0!==o?o:[]})),l["a"].userList().then((function(t){e.userTree=[t]}))])["finally"]((function(){t.$unmask()}))},e.prototype.$_formMixin_request=function(){var t=this.$_formMixin_getJsonValue();return this.isEdit?(t.id=this.formData.id,l["a"].modify(t,{mask:this.$parent})):l["a"].add(t,{mask:this.$parent})},E([Object(n["c"])({type:Boolean,default:!1})],e.prototype,"isEdit",void 0),e=E([Object(n["a"])({components:{CheckRelevance:c["a"],UserSelect:p["a"],ProcessSelect:C,TextareaContainer:P["a"],FormBaseInfo:u["a"]}})],e)}(Object(n["b"])(r["a"])),N=M,G=Object(x["a"])(N,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("sf-scrollbar",{ref:"scrollbar"},[o("sf-form",{ref:"form",staticClass:"modify-strategy",attrs:{"label-width":t.labelWidth}},[o("div",{staticClass:"common-form-title"},[t._v("\n            "+t._s(t._("基本信息{#title#}"))+"\n        ")]),t._v(" "),o("form-base-info",{attrs:{"record-data":t.formData,"default-width":t.inputWidth,"priority-list":t.priorityList,"is-edit":t.isEdit}}),t._v(" "),o("div",{staticClass:"common-form-title"},[t._v("\n            "+t._s(t._("策略设置{#title#}"))+"\n        ")]),t._v(" "),o("sf-form-item",{attrs:{"label-text":t._("设置对象{#label#}")}},[o("div",{staticClass:"setting-object"},[o("sf-checkbox",{attrs:{"true-value":t.STATUS.value.enable,"false-value":t.STATUS.value.disable,name:"dest_ip.switch"},model:{value:t.formData.dest_ip.switch,callback:function(e){t.$set(t.formData.dest_ip,"switch",e)},expression:"formData.dest_ip.switch"}},[o("lang",[t._v("目的IP{#label#}")])],1),t._v(" "),o("check-relevance",{staticClass:"common-form-content-wrap",attrs:{"can-edit":t.formData.dest_ip.switch===t.STATUS.value.enable}},[o("sf-form-item",{attrs:{"label-text":t._("IP地址{#label#}")}},[o("textarea-container",{attrs:{placeholder:t.ipAddrTip,name:"dest_ip.ip_addr","max-line":16,vtype:"multi_ipv4_or_range","allow-blank":t.formData.dest_ip.switch!==t.STATUS.value.enable,"default-width":t.inputWidth-t.labelWidth-36},model:{value:t.formData.dest_ip.ip_addr,callback:function(e){t.$set(t.formData.dest_ip,"ip_addr",e)},expression:"formData.dest_ip.ip_addr"}})],1),t._v(" "),o("sf-form-item",{attrs:{"label-text":t._("动作{#label#}"),name:"dest_ip.action"}},[o("sf-radio-group",{attrs:{name:"dest_ip.action"},model:{value:t.formData.dest_ip.action,callback:function(e){t.$set(t.formData.dest_ip,"action",e)},expression:"formData.dest_ip.action"}},t._l(t.STRATEGY_ACTION.options,(function(e,n){return o("sf-radio",{key:n,attrs:{"check-value":e.value}},[t._v("\n                                "+t._s(e.label)+"\n                            ")])})),1)],1)],1),t._v(" "),o("sf-checkbox",{attrs:{"true-value":t.STATUS.value.enable,"false-value":t.STATUS.value.disable,name:"domain.switch"},model:{value:t.formData.domain.switch,callback:function(e){t.$set(t.formData.domain,"switch",e)},expression:"formData.domain.switch"}},[o("lang",[t._v("域名{#label#}")])],1),t._v(" "),o("check-relevance",{staticClass:"common-form-content-wrap",attrs:{"can-edit":t.formData.domain.switch===t.STATUS.value.enable}},[o("sf-form-item",{attrs:{"label-text":t._("域名地址{#label#}")}},[o("textarea-container",{attrs:{placeholder:t.domainAddrTip,name:"domain.list","max-line":128,"single-line-max":128,"single-line-min":5,vtype:"multi_domain_url","allow-blank":t.formData.domain.switch!==t.STATUS.value.enable,"default-width":t.inputWidth-t.labelWidth-36},model:{value:t.formData.domain.list,callback:function(e){t.$set(t.formData.domain,"list",e)},expression:"formData.domain.list"}})],1),t._v(" "),o("sf-form-item",{attrs:{"label-text":t._("动作{#label#}")}},[o("sf-radio-group",{attrs:{name:"domain.action"},model:{value:t.formData.domain.action,callback:function(e){t.$set(t.formData.domain,"action",e)},expression:"formData.domain.action"}},t._l(t.STRATEGY_ACTION.options,(function(e,n){return o("sf-radio",{key:n,attrs:{"check-value":e.value}},[t._v("\n                                "+t._s(e.label)+"\n                            ")])})),1)],1)],1),t._v(" "),o("sf-checkbox",{attrs:{"true-value":t.STATUS.value.enable,"false-value":t.STATUS.value.disable,name:"process.switch"},model:{value:t.formData.process.switch,callback:function(e){t.$set(t.formData.process,"switch",e)},expression:"formData.process.switch"}},[o("lang",[t._v("进程{#label#}")])],1),t._v(" "),o("check-relevance",{staticClass:"common-form-content-wrap",attrs:{"can-edit":t.formData.process.switch===t.STATUS.value.enable}},[o("sf-form-item",{attrs:{"label-text":t._("进程{#label#}")}},[o("process-select",{attrs:{name:"process.list",list:t.processList,readonly:!1,"allow-blank":t.formData.process.switch!==t.STATUS.value.enable,"default-width":t.inputWidth-t.labelWidth-36},model:{value:t.formData.process.list,callback:function(e){t.$set(t.formData.process,"list",e)},expression:"formData.process.list"}})],1),t._v(" "),o("sf-form-item",{attrs:{"label-text":t._("动作{#label#}"),name:"process.action"}},[o("sf-radio-group",{attrs:{name:"process.action"},model:{value:t.formData.process.action,callback:function(e){t.$set(t.formData.process,"action",e)},expression:"formData.process.action"}},t._l(t.STRATEGY_ACTION.options,(function(e,n){return o("sf-radio",{key:n,attrs:{"check-value":e.value}},[t._v("\n                                "+t._s(e.label)+"\n                            ")])})),1)],1)],1)],1)]),t._v(" "),o("sf-form-item",{attrs:{"label-text":t._("生效时间{#label#}")}},[o("sf-select",{attrs:{name:"time_id","display-field":"name","value-field":"id","default-width":t.inputWidth,options:t.timeList,"allow-blank":!1},model:{value:t.formData.time_id,callback:function(e){t.$set(t.formData,"time_id",e)},expression:"formData.time_id"}})],1),t._v(" "),o("div",{staticClass:"common-form-title"},[t._v("\n            "+t._s(t._("适用范围{#title#}"))+"\n        ")]),t._v(" "),o("sf-form-item",{attrs:{"label-text":t._("适用用户{#label#}")}},[o("user-select",{attrs:{readonly:!1,"default-width":t.inputWidth,"tree-data":t.userTree,"allow-blank":!1,name:"users_tree"},model:{value:t.formData.users_id,callback:function(e){t.$set(t.formData,"users_id",e)},expression:"formData.users_id"}})],1)],1)],1)}),[],!1,null,"74670d68",null);e["a"]=G.exports},"./src/home/mod_strategy/online_strategy/content_recognition/detail/index.vue":function(t,e,o){"use strict";var n=o("./node_modules/vue-property-decorator/lib/vue-property-decorator.js"),r=o("./src/components/detail_drawer/title_bar.vue"),a=o("./src/components/application_scope/index.vue"),i=o("./src/home/mod_strategy/online_strategy/content_recognition/modal/add_strategy/web_excluded_sites/index.vue"),s=o("./src/home/mod_strategy/online_strategy/content_recognition/modal/add_strategy/email_excluded_sites/index.vue"),l=o("./src/components/select_application/index.vue"),c=o("./src/home/mod_strategy/common/detail_mixin.ts"),u=o("./src/api/swagger/mods/strategyContentDetect.mod.ts"),p=o("./src/const/common.ts"),d=o("./src/const/mod_strategy.ts");function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(t)}var m=function(){var t=function e(o,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])},t(o,n)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),y=function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"===("undefined"==typeof Reflect?"undefined":f(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i},v=function(t,e,o,n){return new(o||(o=Promise))((function(r,a){function i(t){try{l(n.next(t))}catch(t){a(t)}}function s(t){try{l(n["throw"](t))}catch(t){a(t)}}function l(t){t.done?r(t.value):function e(t){return t instanceof o?t:new o((function(e){e(t)}))}(t.value).then(i,s)}l((n=n.apply(t,e||[])).next())}))},h=function(t,e){var o,n,r,a,i={label:0,sent:function t(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function l(a){if(o)throw new TypeError("Generator is already executing.");for(;i;)try{if(o=1,n&&(r=2&a[0]?n["return"]:a[0]?n["throw"]||((r=n["return"])&&r.call(n),0):n.next)&&!(r=r.call(n,a[1])).done)return r;switch(n=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(r=i.trys,(r=r.length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],n=0}finally{o=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.STATUS=p["n"],e.DECODE_METHOD=d["o"],e.DECODE_CONTENT=d["n"],e.EMAIL_DECODE_CONTENT=d["t"],e.CUSTOMIZE_DECODE=d["l"],e.detail={name:"",description:"",status:"",priority:"",method:"",web:{status:"",content:"",customize:[],apps:[],domains:[],reject_QUIC:""},email:{status:"",content:[],exception:[]},application_scope:{scope:[],users:[],terminal:[],source_ip:{type:"",list:[]},destination_ip:{type:"",list:[]}}},e.tagList=[],e.appTreeData=[],e.userTreeData=[],e.appModalOptions={width:640,title:_("应用{#title#}"),buttons:[{actionName:"cancel",text:_("关闭")}]},e.POP3protocolTips=[_("只适用于审计"),_("勾选此项可能会导致OUTLOOK添加加密新账号失败。{#tip#}")].join("<br>"),e.treeOptions={left:{width:295},right:{width:295}},e.operationMap={load:u["a"].detail},e}return m(e,t),e.prototype.mounted=function(){this.loadUserTreeData(),this.loadApplications()},e.prototype.loadApplications=function(){return v(this,void 0,void 0,(function(){var t;return h(this,(function(e){switch(e.label){case 0:return[4,u["a"].saasAppGroup({},{mask:this.$parent})];case 1:return t=e.sent(),this.appTreeData=t?[t]:[],[2]}}))}))},e.prototype.loadUserTreeData=function(){return v(this,void 0,void 0,(function(){var t;return h(this,(function(e){switch(e.label){case 0:return[4,u["a"].userGroup({},{mask:this.$parent})];case 1:return t=e.sent(),this.userTreeData=t?[t]:[],[2]}}))}))},e.prototype.openWebExcludedSites=function(){this.$modal(i["a"],{title:_("白名单{#title#}"),props:{defaultDisabled:!0},width:960,height:542,buttons:[{actionName:"cancel",text:_("关闭{#btn#}")}],autoDestroy:!0}).open()},e.prototype.openEmailExcludedSites=function(){this.$modal(s["a"],{title:_("白名单{#title#}"),width:480,props:{excludedSitesList:this.detail.email.exception,defaultDisabled:!0},buttons:[{actionName:"cancel",text:_("关闭{#btn#}")}],autoDestroy:!0}).open()},e=y([Object(n["a"])({components:{TitleBar:r["a"],AppSelect:l["a"],ApplicationScope:a["a"]}})],e)}(Object(n["b"])(c["a"])),g=b,w=o("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),x=Object(w["a"])(g,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",{staticClass:"strategy-detail content-recognition-detail"},[o("lang",{staticClass:"common-form-title"},[t._v("基本信息{#title#}")]),t._v(" "),t._l(t.basicInfo,(function(e,n){return o("ss-text-render",t._b({key:n,staticClass:"detail-item"},"ss-text-render",e,!1))})),t._v(" "),o("lang",{staticClass:"common-form-title"},[t._v("策略设置{#title#}")]),t._v(" "),o("ss-text-render",t._b({staticClass:"detail-item",attrs:{"label-text":t._("解密方式{#label#}"),value:t.DECODE_METHOD.text[t.detail.method]}},"ss-text-render",t.textRenderOptions,!1)),t._v(" "),o("ss-text-render",t._b({staticClass:"detail-item",attrs:{"label-text":t._("识别内容{#label#}")}},"ss-text-render",t.textRenderOptions,!1),[o("div",{staticClass:"setting-object"},[o("sf-checkbox",{attrs:{"true-value":t.STATUS.value.enable,"false-value":t.STATUS.value.disable,"default-disabled":!0},model:{value:t.detail.web.status,callback:function(e){t.$set(t.detail.web,"status",e)},expression:"detail.web.status"}},[o("lang",{staticClass:"detail-item--title"},[t._v("应用、网页{#title#}")])],1),t._v(" "),o("div",{staticClass:"common-form-content-wrap"},[o("ss-text-render",t._b({staticClass:"detail-item",attrs:{"label-text":t._("解密内容{#label#}")}},"ss-text-render",t.textRenderOptions,!1),[o("span",{staticClass:"text-render__text"},[t._v("\n                        "+t._s(t._f("empty")(t.DECODE_CONTENT.text[t.detail.web.content]))+"\n                    ")])]),t._v(" "),o("div",{staticClass:"content-recognition-detail__sub-content"},[t.detail.web.content===t.DECODE_CONTENT.value.customize?[t.detail.web.customize.includes(t.CUSTOMIZE_DECODE.value.app)?o("ss-text-render",{staticClass:"detail-item",attrs:{"line-height":t.textRenderOptions.lineHeight,"label-text":t._("SaaS应用或者网页分类{#label#}")}},[o("app-select",{attrs:{"tag-list":t.tagList,"default-width":252,"has-tag":!1,"tree-options":t.treeOptions,"modal-options":t.appModalOptions,"tree-data":t.appTreeData,readonly:!0},model:{value:t.detail.web.apps,callback:function(e){t.$set(t.detail.web,"apps",e)},expression:"detail.web.apps"}})],1):t._e(),t._v(" "),t.detail.web.customize.includes(t.CUSTOMIZE_DECODE.value.domains)?o("ss-text-render",{staticClass:"detail-item",attrs:{"line-height":t.textRenderOptions.lineHeight,"label-width":36,"label-text":t._("域名{#label#}")}},[t.detail.web.domains.length?o("div",{staticClass:"text-render__text"},[t._l(t.detail.web.domains.slice(0,5),(function(e,n){return o("p",{key:n,staticClass:"common-ellipsis content-recognition-detail__domain",attrs:{title:e}},[t._v("\n                                    "+t._s(e)+"\n                                ")])})),t._v(" "),t.detail.web.domains.length>=5?o("p",{attrs:{title:t.detail.web.domains.join("\n")}},[t._v("\n                                    ...\n                                ")]):t._e()],2):o("span",{staticClass:"text-render__text"},[t._v("\n                                -\n                            ")])]):t._e()]:t._e(),t._v(" "),o("sf-button",{staticClass:"content-recognition-detail__btn",attrs:{size:"small"},on:{click:t.openWebExcludedSites}},[o("lang",[t._v("白名单{#btn#}")])],1)],2),t._v(" "),o("ss-text-render",t._b({staticClass:"detail-item",attrs:{"label-text":t._("高级设置{#label#}")}},"ss-text-render",t.textRenderOptions,!1),[o("sf-checkbox",{attrs:{"true-value":t.STATUS.value.enable,"false-value":t.STATUS.value.disable,"default-disabled":!0},model:{value:t.detail.web.reject_QUIC,callback:function(e){t.$set(t.detail.web,"reject_QUIC",e)},expression:"detail.web.reject_QUIC"}},[o("lang",[t._v("拒绝QUIC协议")])],1)],1)],1),t._v(" "),o("sf-checkbox",{attrs:{"true-value":t.STATUS.value.enable,"false-value":t.STATUS.value.disable,"default-disabled":!0},model:{value:t.detail.email.status,callback:function(e){t.$set(t.detail.email,"status",e)},expression:"detail.email.status"}},[o("lang",{staticClass:"detail-item--title"},[t._v("邮件{#title#}")])],1),t._v(" "),o("div",{staticClass:"common-form-content-wrap"},[o("ss-text-render",t._b({staticClass:"detail-item",attrs:{"label-text":t._("解密内容{#label#}")}},"ss-text-render",t.textRenderOptions,!1),[o("sf-checkbox-group",{attrs:{name:"email.content"},model:{value:t.detail.email.content,callback:function(e){t.$set(t.detail.email,"content",e)},expression:"detail.email.content"}},[o("sf-checkbox",{staticClass:"strategy-detail__block",attrs:{"check-value":t.EMAIL_DECODE_CONTENT.value.send,"default-disabled":!0}},[o("lang",[t._v("发送邮件(SMTP加密)")])],1),t._v(" "),o("sf-checkbox",{staticClass:"strategy-detail__block strategy-detail__checkbox",attrs:{"check-value":t.EMAIL_DECODE_CONTENT.value.receive,"default-disabled":!0}},[o("lang",[t._v("接收邮件(POP3/IMAP加密)")]),t._v(" "),o("i",{directives:[{name:"qtip",rawName:"v-qtip",value:t.POP3protocolTips,expression:"POP3protocolTips"}],staticClass:"iconfont icon-xinxi12beifen common-form-tips-icon"})],1)],1)],1),t._v(" "),o("sf-button",{staticClass:"strategy-detail__block content-recognition-detail__btn content-recognition-detail__sub-content",attrs:{size:"small"},on:{click:t.openEmailExcludedSites}},[o("lang",[t._v("白名单{#btn#}")])],1)],1)],1)]),t._v(" "),o("lang",{staticClass:"common-form-title"},[t._v("适用范围{#title#}")]),t._v(" "),o("ss-text-render",t._b({staticClass:"detail-item",attrs:{"label-text":t._("适用范围{#label#}")}},"ss-text-render",t.textRenderOptions,!1),[o("application-scope",{attrs:{"user-tree-data":t.userTreeData,"default-disabled":!0,"input-width":490},model:{value:t.detail.application_scope,callback:function(e){t.$set(t.detail,"application_scope",e)},expression:"detail.application_scope"}})],1)],2)}),[],!1,null,"82b9bbec",null);e["a"]=x.exports},"./src/home/mod_strategy/online_strategy/content_recognition/modal/add_strategy/index.vue":function(t,e,o){"use strict";var n=o("./node_modules/vue-property-decorator/lib/vue-property-decorator.js"),r=o("./src/home/mod_common/mixin/form.ts"),a=o("./src/const/common.ts"),i=o("./src/const/mod_strategy.ts"),s=o("./src/api/swagger/mods/strategyContentDetect.mod.ts"),l=o("./src/components/form/form_base_info/index.vue"),c=o("./src/components/application_scope/index.vue"),u=o("./src/home/mod_strategy/online_strategy/content_recognition/modal/add_strategy/components/recognition_content.vue"),p=o("./src/util/tool.js");function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(t)}var f=function(){var t=function e(o,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])},t(o,n)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),m=function(){return m=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var r in e=arguments[o])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},m.apply(this,arguments)},_=function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"===("undefined"==typeof Reflect?"undefined":d(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i},y=function(t,e,o,n){return new(o||(o=Promise))((function(r,a){function i(t){try{l(n.next(t))}catch(t){a(t)}}function s(t){try{l(n["throw"](t))}catch(t){a(t)}}function l(t){t.done?r(t.value):function e(t){return t instanceof o?t:new o((function(e){e(t)}))}(t.value).then(i,s)}l((n=n.apply(t,e||[])).next())}))},v=function(t,e){var o,n,r,a,i={label:0,sent:function t(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function l(a){if(o)throw new TypeError("Generator is already executing.");for(;i;)try{if(o=1,n&&(r=2&a[0]?n["return"]:a[0]?n["throw"]||((r=n["return"])&&r.call(n),0):n.next)&&!(r=r.call(n,a[1])).done)return r;switch(n=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(r=i.trys,(r=r.length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],n=0}finally{o=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.formData={name:"",description:"",status:a["n"].value.enable,priority:"",method:i["o"].value.client,web:{status:a["n"].value.disable,content:i["n"].value.customize,customize:[],apps:[],domains:[],reject_QUIC:a["n"].value.disable},email:{status:a["n"].value.disable,content:[],exception:[]},application_scope:{scope:i["c"].options.filter((function(t){return t.value!==i["c"].value.sourceIp})).map((function(t){return t.value})),users:[],users_tree:{},terminal:i["L"].options.map((function(t){return t.value})),source_ip:{type:i["H"].value.all,list:[]},destination_ip:{type:i["s"].value.all,list:[]}}},e.inputWidth=496,e.priorityList=[],e.userTreeData=[],e}return f(e,t),Object.defineProperty(e.prototype,"maskTarget",{get:function t(){return this.$parent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"recognitionContentWidth",{get:function t(){return this.$isEnglish?473:this.inputWidth},enumerable:!1,configurable:!0}),e.prototype.created=function(){this.inputWidth=this.$isEnglish?450:496},e.prototype.mounted=function(){this.templateData&&(this.formData=Object(p["n"])({},this.formData,this.templateData)),this.isEdit&&this.initPriorityList(),this.initUserData(),this.initDefaultDomains()},e.prototype.initUserData=function(){return y(this,void 0,void 0,(function(){var t;return v(this,(function(e){switch(e.label){case 0:return[4,s["a"].userGroup({},{mask:this.maskTarget})];case 1:return t=e.sent(),this.userTreeData=t?[t]:[],this.templateData||(this.formData.application_scope.users=Object(p["k"])(this.userTreeData)),[2]}}))}))},e.prototype.initDefaultDomains=function(){var t;return y(this,void 0,void 0,(function(){var e,o;return v(this,(function(n){switch(n.label){case 0:return(null===(t=this.formData.web.domains)||void 0===t?void 0:t.length)?[2]:[4,s["a"].defaultDomainList({},{mask:this.maskTarget})];case 1:return e=n.sent().list,o=void 0===e?[]:e,this.formData.web.domains=o,[2]}}))}))},e.prototype.initPriorityList=function(){var t;return y(this,void 0,void 0,(function(){var e,o,n;return v(this,(function(r){switch(r.label){case 0:return[4,s["a"].lowestPriority({id:(null===(t=this.templateData)||void 0===t?void 0:t.id)||""},{mask:this.maskTarget})];case 1:for(e=r.sent(),o=(null==e?void 0:e.lowest_priority)||1,n=1;n<=o;n++)this.priorityList.push(n);return[2]}}))}))},e.prototype.$_formMixin_customValid=function(){var t;return null===(t=this.$refs.recognitionContent)||void 0===t?void 0:t.customValid()},e.prototype.$_formMixin_request=function(){var t,e=this.$_formMixin_getFormData(this.formData),o=this.isEdit?m(m({},e),{id:(null===(t=this.templateData)||void 0===t?void 0:t.id)||""}):e;return(this.isEdit?s["a"].edit:s["a"].add)(o,{mask:this.maskTarget})},_([Object(n["c"])({type:Object})],e.prototype,"templateData",void 0),_([Object(n["c"])({type:Boolean,default:!1})],e.prototype,"isEdit",void 0),e=_([Object(n["a"])({components:{BaseInfo:l["a"],ApplicationScope:c["a"],RecognitionContent:u["a"]}})],e)}(Object(n["b"])(r["a"])),b=h,g=o("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),w=Object(g["a"])(b,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("sf-scrollbar",{staticClass:"add-strategy-scrollbar"},[o("sf-form",{ref:"form",staticClass:"add-strategy",attrs:{"auto-label-width":""}},[o("lang",{staticClass:"common-form-title"},[t._v("基本信息{#title#}")]),t._v(" "),o("base-info",{attrs:{"record-data":t.formData,"priority-list":t.priorityList,"default-width":t.inputWidth,"is-edit":t.isEdit}}),t._v(" "),o("lang",{staticClass:"common-form-title"},[t._v("策略设置{#title#}")]),t._v(" "),o("recognition-content",{ref:"recognitionContent",attrs:{"record-data":t.formData,"input-width":t.recognitionContentWidth,"mask-target":t.maskTarget}}),t._v(" "),o("lang",{staticClass:"common-form-title"},[t._v("适用范围{#title#}")]),t._v(" "),o("sf-form-item",{attrs:{"label-text":t._("适用范围")}},[o("application-scope",{ref:"applicationScope",attrs:{name:"application_scope","user-tree-data":t.userTreeData,"input-width":t.inputWidth,"allow-blank":!1},model:{value:t.formData.application_scope,callback:function(e){t.$set(t.formData,"application_scope",e)},expression:"formData.application_scope"}})],1)],1)],1)}),[],!1,null,"85cb7810",null);e["a"]=w.exports},"./src/home/mod_strategy/online_strategy/control_strategy/app_control/detail/index.vue":function(t,e,o){"use strict";var n=o("./node_modules/vue-property-decorator/lib/vue-property-decorator.js"),r=o("./src/components/application_scope/index.vue"),a=o("./src/api/swagger/mods/strategyAppControl.mod.ts"),i=o("./src/home/mod_strategy/common/detail_mixin.ts"),s=o("./src/components/audit_settings/index.vue"),l=o("./src/const/common.ts");function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(t)}var u=function(){var t=function e(o,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])},t(o,n)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),p=function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i},d=function(t,e,o,n){return new(o||(o=Promise))((function(r,a){function i(t){try{l(n.next(t))}catch(t){a(t)}}function s(t){try{l(n["throw"](t))}catch(t){a(t)}}function l(t){t.done?r(t.value):function e(t){return t instanceof o?t:new o((function(e){e(t)}))}(t.value).then(i,s)}l((n=n.apply(t,e||[])).next())}))},f=function(t,e){var o,n,r,a,i={label:0,sent:function t(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function l(a){if(o)throw new TypeError("Generator is already executing.");for(;i;)try{if(o=1,n&&(r=2&a[0]?n["return"]:a[0]?n["throw"]||((r=n["return"])&&r.call(n),0):n.next)&&!(r=r.call(n,a[1])).done)return r;switch(n=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(r=i.trys,(r=r.length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],n=0}finally{o=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.detail={name:"",description:"",status:"",priority:"",creator:"",control_content:{content:[],app:{list:[],action:"",time_id:"",time_name:""},web_file:{http:{status:l["n"].value.enable,excluded_url:[]},ftp:"",file_type:[],method:[],action:"",time_id:"",time_name:""},email:{source_addr:{status:"",action:"",list:[]},destination_addr:{status:"",action:"",list:[]},keyword:{status:"",list:[]},attachment:{status:"",list:[]},limit:{status:"",type:[],size:"",attachments:""}}},application_scope:{scope:[],users:[],terminal:[],source_ip:{type:"",list:[]},destination_ip:{type:"",list:[]}}},e.userTreeData=[],e.operationMap={load:a["a"].detail},e}return u(e,t),e.prototype.mounted=function(){this.loadUserTreeData()},e.prototype.loadUserTreeData=function(){return d(this,void 0,void 0,(function(){var t;return f(this,(function(e){switch(e.label){case 0:return[4,a["a"].userGroup({},{mask:this.$parent})];case 1:return t=e.sent(),this.userTreeData=t?[t]:[],[2]}}))}))},e=p([Object(n["a"])({components:{ApplicationScope:r["a"],ControlContent:s["a"]}})],e)}(Object(n["b"])(i["a"])),_=m,y=o("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),v=Object(y["a"])(_,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",{staticClass:"strategy-detail"},[o("lang",{staticClass:"common-form-title"},[t._v("基本信息{#title#}")]),t._v(" "),t._l(t.basicInfo,(function(e,n){return o("ss-text-render",t._b({key:n,staticClass:"detail-item"},"ss-text-render",e,!1))})),t._v(" "),o("lang",{staticClass:"common-form-title"},[t._v("管控设置{#title#}")]),t._v(" "),o("ss-text-render",t._b({staticClass:"detail-item",attrs:{"label-text":t._("管控内容{#label#}")}},"ss-text-render",t.textRenderOptions,!1),[o("control-content",{attrs:{"default-disabled":!0,"input-width":490},model:{value:t.detail.control_content,callback:function(e){t.$set(t.detail,"control_content",e)},expression:"detail.control_content"}})],1),t._v(" "),o("lang",{staticClass:"common-form-title"},[t._v("适用范围{#title#}")]),t._v(" "),o("ss-text-render",t._b({staticClass:"detail-item",attrs:{"label-text":t._("适用范围{#label#}")}},"ss-text-render",t.textRenderOptions,!1),[o("application-scope",{attrs:{"user-tree-data":t.userTreeData,"default-disabled":!0,"input-width":490},model:{value:t.detail.application_scope,callback:function(e){t.$set(t.detail,"application_scope",e)},expression:"detail.application_scope"}})],1)],2)}),[],!1,null,"f1a6fdda",null);e["a"]=v.exports},"./src/home/mod_strategy/online_strategy/control_strategy/app_control/modal/add_strategy/index.vue":function(t,e,o){"use strict";var n=o("./node_modules/vue-property-decorator/lib/vue-property-decorator.js"),r=o("./src/home/mod_common/mixin/form.ts"),a=o("./src/home/mod_common/mixin/modal.ts"),i=o("./src/api/swagger/mods/strategyAppControl.mod.ts"),s=o("./src/const/common.ts"),l=o("./src/const/mod_strategy.ts"),c=o("./src/components/form/form_base_info/index.vue"),u=o("./src/components/application_scope/index.vue"),p=o("./src/components/audit_settings/index.vue"),d=o("./src/util/tool.js");function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(t)}var m=function(){var t=function e(o,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])},t(o,n)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),_=function(){return _=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var r in e=arguments[o])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},_.apply(this,arguments)},y=function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"===("undefined"==typeof Reflect?"undefined":f(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i},v=function(t,e,o,n){return new(o||(o=Promise))((function(r,a){function i(t){try{l(n.next(t))}catch(t){a(t)}}function s(t){try{l(n["throw"](t))}catch(t){a(t)}}function l(t){t.done?r(t.value):function e(t){return t instanceof o?t:new o((function(e){e(t)}))}(t.value).then(i,s)}l((n=n.apply(t,e||[])).next())}))},h=function(t,e){var o,n,r,a,i={label:0,sent:function t(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function l(a){if(o)throw new TypeError("Generator is already executing.");for(;i;)try{if(o=1,n&&(r=2&a[0]?n["return"]:a[0]?n["throw"]||((r=n["return"])&&r.call(n),0):n.next)&&!(r=r.call(n,a[1])).done)return r;switch(n=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(r=i.trys,(r=r.length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],n=0}finally{o=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.STATUS=s["n"],e.formData={name:"",description:"",status:s["n"].value.enable,priority:"",control_content:{content:[],app:{list:[],action:"",time_id:""},web_file:{http:{status:s["n"].value.enable,excluded_url:[]},ftp:s["n"].value.disable,file_type:[],method:[],action:"",time_id:""},email:{source_addr:{status:s["n"].value.disable,action:"",list:[]},destination_addr:{status:s["n"].value.disable,action:"",list:[]},keyword:{status:s["n"].value.disable,list:[]},attachment:{status:s["n"].value.disable,list:[]},limit:{status:s["n"].value.disable,type:[],size:"",attachments:""}}},application_scope:{scope:l["c"].options.filter((function(t){return t.value!==l["c"].value.sourceIp})).map((function(t){return t.value})),users:[],users_tree:{},terminal:l["L"].options.map((function(t){return t.value})),source_ip:{type:l["H"].value.all,list:[]},destination_ip:{type:l["s"].value.all,list:[]}}},e.inputWidth=496,e.priorityList=[],e.userTreeData=[],e}return m(e,t),e.prototype.created=function(){this.inputWidth=this.$isEnglish?464:496},e.prototype.mounted=function(){this.templateData&&(this.formData=Object(d["n"])({},this.formData,this.templateData)),this.isEdit&&this.initPriorityList(),this.initUserData()},e.prototype.initPriorityList=function(){var t;return v(this,void 0,void 0,(function(){var e,o,n;return h(this,(function(r){switch(r.label){case 0:return[4,i["a"].lowestPriority({id:(null===(t=this.templateData)||void 0===t?void 0:t.id)||""},{mask:this.$parent})];case 1:for(e=r.sent(),o=(null==e?void 0:e.lowest_priority)||1,n=1;n<=o;n++)this.priorityList.push(n);return[2]}}))}))},e.prototype.initUserData=function(){return v(this,void 0,void 0,(function(){var t;return h(this,(function(e){switch(e.label){case 0:return[4,i["a"].userGroup({},{mask:this.$parent})];case 1:return t=e.sent(),this.userTreeData=t?[t]:[],this.templateData||(this.formData.application_scope.users=Object(d["k"])(this.userTreeData)),[2]}}))}))},e.prototype.$_formMixin_request=function(){var t,e=this.$_formMixin_getJsonValue(),o=this.isEdit?_(_({},e),{id:(null===(t=this.templateData)||void 0===t?void 0:t.id)||""}):e;return(this.isEdit?i["a"].edit:i["a"].add)(o,{mask:this.$parent})},y([Object(n["c"])({type:Object})],e.prototype,"templateData",void 0),y([Object(n["c"])({type:Boolean,default:!1})],e.prototype,"isEdit",void 0),e=y([Object(n["a"])({components:{BaseInfo:c["a"],ApplicationScope:u["a"],ControlContent:p["a"]}})],e)}(Object(n["b"])(r["a"],a["a"])),g=b,w=o("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),x=Object(w["a"])(g,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("sf-scrollbar",[o("sf-form",{ref:"form",staticClass:"add-strategy",attrs:{"auto-label-width":""}},[o("lang",{staticClass:"common-form-title"},[t._v("基本信息{#title#}")]),t._v(" "),o("base-info",{attrs:{"record-data":t.formData,"priority-list":t.priorityList,"default-width":t.inputWidth,"is-edit":t.isEdit}}),t._v(" "),o("lang",{staticClass:"common-form-title"},[t._v("审计设置{#title#}")]),t._v(" "),o("sf-form-item",{attrs:{"label-text":t._("管控内容")}},[o("control-content",{attrs:{"input-width":t.inputWidth,name:"control_content"},model:{value:t.formData.control_content,callback:function(e){t.$set(t.formData,"control_content",e)},expression:"formData.control_content"}})],1),t._v(" "),o("lang",{staticClass:"common-form-title"},[t._v("适用范围{#title#}")]),t._v(" "),o("sf-form-item",{attrs:{"label-text":t._("适用范围")}},[o("application-scope",{ref:"applicationScope",attrs:{name:"application_scope","user-tree-data":t.userTreeData,"input-width":t.inputWidth},model:{value:t.formData.application_scope,callback:function(e){t.$set(t.formData,"application_scope",e)},expression:"formData.application_scope"}})],1)],1)],1)}),[],!1,null,"1b13571c",null);e["a"]=x.exports},"./src/home/mod_strategy/online_strategy/control_strategy/terminal_control/detail/index.vue":function(t,e,o){"use strict";var n=o("./node_modules/vue-property-decorator/lib/vue-property-decorator.js"),r=o("./src/components/application_scope/index.vue"),a=o("./src/api/swagger/mods/strategyTerminalControl.mod.ts"),i=o("./src/home/mod_strategy/common/detail_mixin.ts"),s=o("./src/const/mod_strategy.ts");function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(t)}var c=function(){var t=function e(o,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])},t(o,n)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),u=function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i},p=function(t,e,o,n){return new(o||(o=Promise))((function(r,a){function i(t){try{l(n.next(t))}catch(t){a(t)}}function s(t){try{l(n["throw"](t))}catch(t){a(t)}}function l(t){t.done?r(t.value):function e(t){return t instanceof o?t:new o((function(e){e(t)}))}(t.value).then(i,s)}l((n=n.apply(t,e||[])).next())}))},d=function(t,e){var o,n,r,a,i={label:0,sent:function t(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function l(a){if(o)throw new TypeError("Generator is already executing.");for(;i;)try{if(o=1,n&&(r=2&a[0]?n["return"]:a[0]?n["throw"]||((r=n["return"])&&r.call(n),0):n.next)&&!(r=r.call(n,a[1])).done)return r;switch(n=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(r=i.trys,(r=r.length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],n=0}finally{o=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.AUDIT_SETTINGS_TYPE=s["i"],e.AUDIT_SETTINGS_ACTION=s["h"],e.detail={name:"",description:"",status:"",priority:"",time_id:"",time_name:"",setting:{disk:"",mobile:"",net:"",bluetooth:"",camera:"",printer:""},application_scope:{scope:[],users:[],terminal:[],source_ip:{type:"",list:[]},destination_ip:{type:"",list:[]}}},e.userTreeData=[],e.textRenderOptions={labelWidth:96,lineHeight:24},e.operationMap={load:a["a"].detail},e}return c(e,t),e.prototype.mounted=function(){this.loadUserTreeData(),this.textRenderOptions.labelWidth=this.$isEnglish?126:96},e.prototype.loadUserTreeData=function(){return p(this,void 0,void 0,(function(){var t;return d(this,(function(e){switch(e.label){case 0:return[4,a["a"].userGroup({},{mask:this.$parent})];case 1:return t=e.sent(),this.userTreeData=t?[t]:[],[2]}}))}))},e=u([Object(n["a"])({components:{ApplicationScope:r["a"]}})],e)}(Object(n["b"])(i["a"])),m=f,_=o("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),y=Object(_["a"])(m,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",{staticClass:"strategy-detail"},[o("lang",{staticClass:"common-form-title"},[t._v("基本信息{#title#}")]),t._v(" "),t._l(t.basicInfo,(function(e,n){return o("ss-text-render",t._b({key:n,staticClass:"detail-item"},"ss-text-render",e,!1))})),t._v(" "),o("lang",{staticClass:"common-form-title"},[t._v("管控设置{#title#}")]),t._v(" "),t._l(t.AUDIT_SETTINGS_TYPE.options,(function(e,n){return o("ss-text-render",t._b({key:n,staticClass:"detail-item",attrs:{"label-text":e.label,value:t.AUDIT_SETTINGS_ACTION.text[t.detail.setting[e.value]]}},"ss-text-render",t.textRenderOptions,!1))})),t._v(" "),o("ss-text-render",t._b({staticClass:"detail-item",attrs:{"label-text":t._("生效时间{#label#}"),value:t.detail.time_name}},"ss-text-render",t.textRenderOptions,!1)),t._v(" "),o("lang",{staticClass:"common-form-title"},[t._v("适用范围{#title#}")]),t._v(" "),o("ss-text-render",t._b({staticClass:"detail-item",attrs:{"label-text":t._("适用范围{#label#}")}},"ss-text-render",t.textRenderOptions,!1),[o("application-scope",{attrs:{"user-tree-data":t.userTreeData,"default-disabled":!0,"input-width":460,"is-terminal-control":!0},model:{value:t.detail.application_scope,callback:function(e){t.$set(t.detail,"application_scope",e)},expression:"detail.application_scope"}})],1)],2)}),[],!1,null,"07a10e90",null);e["a"]=y.exports},"./src/home/mod_strategy/online_strategy/control_strategy/terminal_control/modal/add_strategy/index.vue":function(t,e,o){"use strict";var n=o("./node_modules/vue-property-decorator/lib/vue-property-decorator.js"),r=o("./src/home/mod_common/mixin/form.ts"),a=o("./src/home/mod_common/mixin/modal.ts"),i=o("./src/api/swagger/mods/strategyTerminalControl.mod.ts"),s=o("./src/const/common.ts"),l=o("./src/const/mod_strategy.ts"),c=o("./src/components/form/form_base_info/index.vue"),u=o("./src/components/application_scope/index.vue"),p=o("./src/components/local_tips/index.vue"),d=o("./src/components/textarea/index.vue"),f=o("./src/components/check_relevance/index.vue"),m=o("./src/components/icon_qtip/index.vue");function _(t){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(t)}var y=function(){var t=function e(o,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])},t(o,n)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),v=function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"===("undefined"==typeof Reflect?"undefined":_(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i},h=function(t,e,o,n){return new(o||(o=Promise))((function(r,a){function i(t){try{l(n.next(t))}catch(t){a(t)}}function s(t){try{l(n["throw"](t))}catch(t){a(t)}}function l(t){t.done?r(t.value):function e(t){return t instanceof o?t:new o((function(e){e(t)}))}(t.value).then(i,s)}l((n=n.apply(t,e||[])).next())}))},b=function(t,e){var o,n,r,a,i={label:0,sent:function t(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function l(a){if(o)throw new TypeError("Generator is already executing.");for(;i;)try{if(o=1,n&&(r=2&a[0]?n["return"]:a[0]?n["throw"]||((r=n["return"])&&r.call(n),0):n.next)&&!(r=r.call(n,a[1])).done)return r;switch(n=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(r=i.trys,(r=r.length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],n=0}finally{o=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},g=/^[a-zA-Z0-9_.\\`~!#$%^&*()+=|{}\[\];:\"',/?]{0,999}$/,w=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.deviceIdTip=["请输入设备ID，一行一个，最多支持128个","支持大小写字母、数字、特殊字符_.\\`~!#$%^&*()+=|{}[];:\"',/?；单个ID不超过999位"],e.ids=[],e}return y(e,t),e.prototype.onHandleWhitelist=function(t){this.ids=t},e.prototype.$_modalFormMixin_cancel=function(){this.ids=this.whitelist,this.$emit("close-modal")},e.prototype.$_modalFormMixin_submit=function(){return h(this,void 0,void 0,(function(){return b(this,(function(t){return this.$_formMixin_isValid()?(this.$emit("submit-success",this.ids),this.$emit("close-modal"),[2]):[2]}))}))},e.prototype.idValidator=function(t){return!!g.test(t)||"支持大小写字母、数字、特殊字符_.\\`~!#$%^&*()+=|{}[];:\"',/?；单个ID不超过999位"},v([Object(n["c"])({type:Array,default:function t(){return[]}})],e.prototype,"whitelist",void 0),v([Object(n["c"])({type:Boolean,default:!1})],e.prototype,"defaultDisabled",void 0),v([Object(n["f"])("whitelist",{immediate:!0})],e.prototype,"onHandleWhitelist",null),e=v([Object(n["a"])({components:{IconQtip:m["a"],LocalTips:p["a"],MultiTextarea:d["a"],CheckRelevance:f["a"]}})],e)}(Object(n["b"])(r["a"],a["a"])),x=w,O=o("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),D=Object(O["a"])(x,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("check-relevance",{attrs:{"can-edit":!t.defaultDisabled}},[o("sf-form",{ref:"form",staticClass:"white-list"},[o("local-tips",{attrs:{"default-width":"100%",type:"normal","tips-text":"以下设备将不受U盘、移动硬盘策略管控，可正常使用"}}),t._v(" "),o("sf-form-item",{attrs:{"label-text":"设备ID"}},[o("span",{staticClass:"white-list__link"},[o("span",{staticClass:"common-link__text",on:{click:t.$filterRemind}},[o("i",{staticClass:"iconfont icon-xinxi12beifen5 download-tip"}),t._v(" "),o("span",[t._v("如何获取U盘设备ID")])])]),t._v(" "),o("multi-textarea",{attrs:{name:"uid",placeholder:t.deviceIdTip.join("\n"),"is-hack-placeholder":"","max-line":128,"single-line-max":999,"line-validator":t.idValidator,rows:5,"default-width":"100%"},model:{value:t.ids,callback:function(e){t.ids=e},expression:"ids"}}),t._v(" "),o("icon-qtip",{staticClass:"common-form-tips-icon",attrs:{"tip-text":t.deviceIdTip.join("<br>")}})],1)],1)],1)}),[],!1,null,"6af7e343",null).exports,S=o("./src/util/tool.js"),j=o("./src/home/mod_common/util/tool.ts");function T(t){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(t)}var k=function(){var t=function e(o,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])},t(o,n)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),C=function(){return C=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var r in e=arguments[o])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},C.apply(this,arguments)},P=function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"===("undefined"==typeof Reflect?"undefined":T(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i},U=function(t,e,o,n){return new(o||(o=Promise))((function(r,a){function i(t){try{l(n.next(t))}catch(t){a(t)}}function s(t){try{l(n["throw"](t))}catch(t){a(t)}}function l(t){t.done?r(t.value):function e(t){return t instanceof o?t:new o((function(e){e(t)}))}(t.value).then(i,s)}l((n=n.apply(t,e||[])).next())}))},$=function(t,e){var o,n,r,a,i={label:0,sent:function t(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function l(a){if(o)throw new TypeError("Generator is already executing.");for(;i;)try{if(o=1,n&&(r=2&a[0]?n["return"]:a[0]?n["throw"]||((r=n["return"])&&r.call(n),0):n.next)&&!(r=r.call(n,a[1])).done)return r;switch(n=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(r=i.trys,(r=r.length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],n=0}finally{o=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},R=Object(S["o"])({allow:"可读写",only_read:"只读",forbid:"拒绝"}),A=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.STATUS=s["n"],e.AUDIT_SETTINGS_TYPE=l["i"],e.AUDIT_SETTINGS_ACTION=l["h"],e.DISK_ACTION_OPTIONS=R,e.formData={name:"",description:"",status:s["n"].value.enable,priority:"",time_id:"",setting:{disk:l["h"].value.allow,mobile:l["h"].value.allow,net:l["h"].value.allow,bluetooth:l["h"].value.allow,camera:l["h"].value.allow,printer:l["h"].value.allow},application_scope:{scope:Object.values(l["c"].value).filter((function(t){return![l["c"].value.terminal,l["c"].value.sourceIp].includes(t)})),users:[],users_tree:{},terminal:[l["L"].value.pc],source_ip:{type:l["H"].value.all,list:[]},destination_ip:{type:l["s"].value.all,list:[]}}},e.inputWidth=463,e.priorityList=[],e.userTreeData=[],e.timeList=[],e}return k(e,t),e.prototype.created=function(){this.inputWidth=this.$isEnglish?440:463},e.prototype.mounted=function(){this.templateData&&(this.formData=Object(S["n"])({},this.formData,this.templateData)),this.isEdit&&this.initPriorityList(),this.loadTimeList(),this.initUserData()},e.prototype.initPriorityList=function(){var t;return U(this,void 0,void 0,(function(){var e,o,n;return $(this,(function(r){switch(r.label){case 0:return[4,i["a"].lowestPriority({id:(null===(t=this.templateData)||void 0===t?void 0:t.id)||""},{mask:this.$parent})];case 1:for(e=r.sent(),o=(null==e?void 0:e.lowest_priority)||1,n=1;n<=o;n++)this.priorityList.push(n);return[2]}}))}))},e.prototype.initUserData=function(){return U(this,void 0,void 0,(function(){var t;return $(this,(function(e){switch(e.label){case 0:return[4,i["a"].userGroup({},{mask:this.$parent})];case 1:return t=e.sent(),this.userTreeData=t?[t]:[],this.templateData||(this.formData.application_scope.users=Object(S["k"])(this.userTreeData)),[2]}}))}))},e.prototype.openWhitelistModal=function(){var t=this;t.$_modalMixin_showModal(D,{title:"设备白名单",showSuccessMsg:!1,props:{whitelist:t.formData.disk_white_list},submitCallback:function e(o){t.formData.disk_white_list=o}})},e.prototype.loadTimeList=function(){return U(this,void 0,void 0,(function(){var t,e;return $(this,(function(o){switch(o.label){case 0:return[4,i["a"].timeList({},{mask:this.$parent})];case 1:return t=o.sent().list,e=void 0===t?[]:t,this.timeList=e.map(j["d"]),[2]}}))}))},e.prototype.$_formMixin_request=function(){var t,e=this.$_formMixin_getJsonValue(),o=this.isEdit?C(C({},e),{id:(null===(t=this.templateData)||void 0===t?void 0:t.id)||""}):e;return(this.isEdit?i["a"].edit:i["a"].add)(o,{mask:this.$parent})},P([Object(n["c"])({type:Object})],e.prototype,"templateData",void 0),P([Object(n["c"])({type:Boolean,default:!1})],e.prototype,"isEdit",void 0),e=P([Object(n["a"])({components:{BaseInfo:c["a"],ApplicationScope:u["a"],LocalTips:p["a"]}})],e)}(Object(n["b"])(r["a"],a["a"])),E=A,I=Object(O["a"])(E,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("sf-scrollbar",{staticClass:"add-strategy-scrollbar"},[o("local-tips",{attrs:{"default-width":"100%",type:"normal","tips-text":t._("使用引流设备的员工需下载插件并安装至PC才能生效策略（客户端用户无需安装）。{#tip#}")}},[o("router-link",{staticClass:"common-link__text",attrs:{to:{name:"modSettingsClientDownloads"},rel:"noopener noreferrer",target:"_blank"}},[t._v("\n            "+t._s(t._("前往下载{#btn#}"))+"\n        ")])],1),t._v(" "),o("sf-form",{ref:"form",staticClass:"add-strategy",attrs:{"auto-label-width":""}},[o("lang",{staticClass:"common-form-title"},[t._v("基本信息{#title#}")]),t._v(" "),o("base-info",{attrs:{"record-data":t.formData,"priority-list":t.priorityList,"default-width":t.inputWidth,"is-edit":t.isEdit}}),t._v(" "),o("lang",{staticClass:"common-form-title"},[t._v("管控设置{#title#}")]),t._v(" "),t._l(t.AUDIT_SETTINGS_TYPE.options,(function(e,n){return o("sf-form-item",{key:n,attrs:{"label-text":e.label}},[o("sf-radio-group",{class:{"add-strategy__radio-group":t.$isEnglish},attrs:{name:"setting."+e.value},model:{value:t.formData.setting[e.value],callback:function(o){t.$set(t.formData.setting,e.value,o)},expression:"formData.setting[item.value]"}},[e.value===t.AUDIT_SETTINGS_TYPE.value.disk?[t._l(t.DISK_ACTION_OPTIONS,(function(e,n){return o("sf-radio",{key:n,staticClass:"add-strategy__radio",attrs:{"check-value":e.value}},[t._v("\n                        "+t._s(e.label)+"\n                        "),e.value===t.AUDIT_SETTINGS_ACTION.value.only_read?o("span",[o("sf-fieldtip",{staticClass:"add-strategy__radio-readonly-tip"},[o("span",[t._v("只读")])])],1):t._e()])})),t._v(" "),o("sf-button",{staticClass:"add-strategy__whitelist-button",attrs:{size:"small"},on:{click:t.openWhitelistModal}},[o("span",[t._v("设备白名单")])])]:[t._l(t.AUDIT_SETTINGS_ACTION.optionsWithoutWarn,(function(e,n){return o("sf-radio",{key:n,staticClass:"add-strategy__radio",attrs:{"check-value":e.value}},[t._v("\n                            "+t._s(e.label)+"\n                        ")])})),t._v(" "),o("p",{staticClass:"common-form-item-tips--margin add-strategy__tips"},[t._v("\n                            "+t._s(t.AUDIT_SETTINGS_TYPE.tips[e.value]||"")+"\n                        ")])]],2)],1)})),t._v(" "),o("sf-form-item",{attrs:{"label-text":t._("生效时间")}},[o("sf-select",{attrs:{name:"time_id","default-width":t.inputWidth,options:t.timeList,"allow-blank":!1},model:{value:t.formData.time_id,callback:function(e){t.$set(t.formData,"time_id",e)},expression:"formData.time_id"}})],1),t._v(" "),o("lang",{staticClass:"common-form-title"},[t._v("适用范围{#title#}")]),t._v(" "),o("sf-form-item",{attrs:{"label-text":t._("适用范围")}},[o("application-scope",{ref:"applicationScope",attrs:{name:"application_scope","user-tree-data":t.userTreeData,"input-width":t.inputWidth,"is-terminal-control":!0},model:{value:t.formData.application_scope,callback:function(e){t.$set(t.formData,"application_scope",e)},expression:"formData.application_scope"}})],1)],2)],1)}),[],!1,null,"4c459f08",null);e["a"]=I.exports},"./src/util/download.js":function(t,e,o){"use strict";function n(t,e){var o=document.createElement("a");if(o.click&&"download"in o)return o.href=t,o.download=e,o.target="_parent",(document.body||document.documentElement).appendChild(o),o.click(),o.parentNode.removeChild(o),!0;window.open(t,"_parent")}o.d(e,"a",(function(){return n}))}}]);